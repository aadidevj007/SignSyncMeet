"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/meet/[id]/page",{

/***/ "(app-pages-browser)/./components/MediaPipeSignDetector.tsx":
/*!**********************************************!*\
  !*** ./components/MediaPipeSignDetector.tsx ***!
  \**********************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ MediaPipeSignDetector; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/../../node_modules/.pnpm/next@14.0.4_@babel+core@7.2_4dd0d9bf506f07f172b83f2c542efdce/node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/../../node_modules/.pnpm/next@14.0.4_@babel+core@7.2_4dd0d9bf506f07f172b83f2c542efdce/node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var framer_motion__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! framer-motion */ \"(app-pages-browser)/../../node_modules/.pnpm/framer-motion@10.18.0_react_39718d184a546e7029955c4644d61736/node_modules/framer-motion/dist/es/render/dom/motion.mjs\");\n/* harmony import */ var _barrel_optimize_names_Activity_Eye_EyeOff_Server_lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! __barrel_optimize__?names=Activity,Eye,EyeOff,Server!=!lucide-react */ \"(app-pages-browser)/../../node_modules/.pnpm/lucide-react@0.303.0_react@18.3.1/node_modules/lucide-react/dist/esm/icons/server.js\");\n/* harmony import */ var _barrel_optimize_names_Activity_Eye_EyeOff_Server_lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! __barrel_optimize__?names=Activity,Eye,EyeOff,Server!=!lucide-react */ \"(app-pages-browser)/../../node_modules/.pnpm/lucide-react@0.303.0_react@18.3.1/node_modules/lucide-react/dist/esm/icons/eye-off.js\");\n/* harmony import */ var _barrel_optimize_names_Activity_Eye_EyeOff_Server_lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! __barrel_optimize__?names=Activity,Eye,EyeOff,Server!=!lucide-react */ \"(app-pages-browser)/../../node_modules/.pnpm/lucide-react@0.303.0_react@18.3.1/node_modules/lucide-react/dist/esm/icons/eye.js\");\n/* harmony import */ var _barrel_optimize_names_Activity_Eye_EyeOff_Server_lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! __barrel_optimize__?names=Activity,Eye,EyeOff,Server!=!lucide-react */ \"(app-pages-browser)/../../node_modules/.pnpm/lucide-react@0.303.0_react@18.3.1/node_modules/lucide-react/dist/esm/icons/activity.js\");\n/* harmony import */ var _mediapipe_tasks_vision__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @mediapipe/tasks-vision */ \"(app-pages-browser)/../../node_modules/.pnpm/@mediapipe+tasks-vision@0.10.21/node_modules/@mediapipe/tasks-vision/vision_bundle.mjs\");\n/* harmony import */ var _tensorflow_tfjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @tensorflow/tfjs */ \"(app-pages-browser)/../../node_modules/.pnpm/@tensorflow+tfjs@4.22.0_seedrandom@3.0.5/node_modules/@tensorflow/tfjs/dist/index.js\");\n/* harmony import */ var _lib_tfjsClient__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/tfjsClient */ \"(app-pages-browser)/./lib/tfjsClient.ts\");\n/* harmony import */ var _lib_fusion__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/lib/fusion */ \"(app-pages-browser)/./lib/fusion.ts\");\n/* harmony import */ var react_hot_toast__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-hot-toast */ \"(app-pages-browser)/../../node_modules/.pnpm/react-hot-toast@2.6.0_react_ded90e1b846baadbbbfd259e63483099/node_modules/react-hot-toast/dist/index.mjs\");\n/* harmony import */ var _lib_auth_context__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/lib/auth-context */ \"(app-pages-browser)/./lib/auth-context.tsx\");\n/* harmony import */ var _lib_templateMatching__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/lib/templateMatching */ \"(app-pages-browser)/./lib/templateMatching.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\nfunction MediaPipeSignDetector(param) {\n    let { onCaption, options = {} } = param;\n    _s();\n    const { windowSize = 32, confidenceThreshold = 0.85, enableServerFallback = true, autoSendToServer = true, enableTemplates = true } = options;\n    const { user } = (0,_lib_auth_context__WEBPACK_IMPORTED_MODULE_7__.useAuth)();\n    const [isActive, setIsActive] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isDetecting, setIsDetecting] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [currentCaption, setCurrentCaption] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [confidence, setConfidence] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [predictionSource, setPredictionSource] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isSendingToServer, setIsSendingToServer] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [tfjsModel, setTfjsModel] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [hasConsent, setHasConsent] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [serverModelAvailable, setServerModelAvailable] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [classNames, setClassNames] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [alphabetTemplates, setAlphabetTemplates] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [sentenceTemplates, setSentenceTemplates] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [templatesLoaded, setTemplatesLoaded] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const alphabetStableFramesRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(new Map());\n    const lastAlphabetMatchRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const videoRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const canvasRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const streamRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const animationRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)();\n    const handLandmarkerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const lastVideoTimeRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(-1);\n    const landmarkBufferRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)({\n        landmarks: [],\n        timestamps: []\n    });\n    const mediaRecorderRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const recordedChunksRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)([]);\n    const lastPredictionTimeRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(0);\n    // Initialize MediaPipe Hand Landmarker\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const initializeHandLandmarker = async ()=>{\n            try {\n                const vision = await _mediapipe_tasks_vision__WEBPACK_IMPORTED_MODULE_2__.FilesetResolver.forVisionTasks(\"https://cdn.jsdelivr.net/npm/@mediapipe/tasks-vision@0.10.8/wasm\");\n                handLandmarkerRef.current = await _mediapipe_tasks_vision__WEBPACK_IMPORTED_MODULE_2__.HandLandmarker.createFromOptions(vision, {\n                    baseOptions: {\n                        modelAssetPath: \"https://storage.googleapis.com/mediapipe-models/hand_landmarker/hand_landmarker/float16/1/hand_landmarker.task\",\n                        delegate: \"GPU\"\n                    },\n                    runningMode: \"VIDEO\",\n                    numHands: 2\n                });\n                console.log(\"✅ MediaPipe Hand Landmarker initialized\");\n            } catch (error) {\n                console.error(\"❌ Error initializing MediaPipe:\", error);\n                react_hot_toast__WEBPACK_IMPORTED_MODULE_6__[\"default\"].error(\"Failed to initialize hand detector\");\n            }\n        };\n        initializeHandLandmarker();\n    }, []);\n    // Load templates\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!enableTemplates) return;\n        const loadTemplates = async ()=>{\n            try {\n                const [alphabets, sentences] = await Promise.all([\n                    (0,_lib_templateMatching__WEBPACK_IMPORTED_MODULE_8__.loadAlphabetTemplates)(),\n                    (0,_lib_templateMatching__WEBPACK_IMPORTED_MODULE_8__.loadSentenceTemplates)()\n                ]);\n                setAlphabetTemplates(alphabets);\n                setSentenceTemplates(sentences);\n                setTemplatesLoaded(true);\n                console.log(\"✅ Templates loaded:\", Object.keys(alphabets).length, \"alphabets,\", Object.keys(sentences).length, \"sentences\");\n            } catch (error) {\n                console.error(\"❌ Error loading templates:\", error);\n                react_hot_toast__WEBPACK_IMPORTED_MODULE_6__[\"default\"].error(\"Templates not found. Using TFJS/model only.\");\n            }\n        };\n        loadTemplates();\n    }, [\n        enableTemplates\n    ]);\n    // Load TFJS model\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const loadModel = async ()=>{\n            try {\n                const model = await (0,_lib_tfjsClient__WEBPACK_IMPORTED_MODULE_4__.loadTFJSModel)(\"/models/tfjs_landmark_model/model.json\");\n                setTfjsModel(model);\n                // Try to load class names\n                try {\n                    const response = await fetch(\"/models/tfjs_landmark_model/class_names.json\");\n                    if (response.ok) {\n                        const names = await response.json();\n                        setClassNames(names);\n                    } else {\n                        // Default class names\n                        setClassNames([\n                            \"Hello\",\n                            \"Thank You\",\n                            \"Yes\",\n                            \"No\",\n                            \"Please\",\n                            \"Sorry\",\n                            \"Good\",\n                            \"Bad\",\n                            \"Help\",\n                            \"Welcome\"\n                        ]);\n                    }\n                } catch (e) {\n                    setClassNames([\n                        \"Hello\",\n                        \"Thank You\",\n                        \"Yes\",\n                        \"No\",\n                        \"Please\",\n                        \"Sorry\",\n                        \"Good\",\n                        \"Bad\",\n                        \"Help\",\n                        \"Welcome\"\n                    ]);\n                }\n                console.log(\"✅ TFJS model loaded\");\n            } catch (error) {\n                console.error(\"❌ Error loading TFJS model:\", error);\n            // Don't show error toast - templates can work without TFJS\n            }\n        };\n        loadModel();\n    }, []);\n    // Check server model availability\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const checkServerModel = async ()=>{\n            try {\n                if (!user) return;\n                const idToken = await user.getIdToken();\n                const response = await fetch(\"/api/infer/status\", {\n                    headers: {\n                        Authorization: \"Bearer \".concat(idToken)\n                    }\n                });\n                if (response.ok) {\n                    const data = await response.json();\n                    setServerModelAvailable(data.modelAvailable === true);\n                }\n            } catch (error) {\n                console.warn(\"Could not check server model status:\", error);\n                setServerModelAvailable(null);\n            }\n        };\n        if (user && enableServerFallback) {\n            checkServerModel();\n        }\n    }, [\n        user,\n        enableServerFallback\n    ]);\n    // Load consent from profile/localStorage\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (true) {\n            const v = localStorage.getItem(\"allowLowConfidenceSaves\") === \"true\";\n            setHasConsent(v);\n        }\n    }, []);\n    // Normalize landmarks to feature vector\n    const normalizeLandmarks = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((landmarks)=>{\n        if (!landmarks || landmarks.length === 0) return [];\n        const features = [];\n        const numHands = Math.min(landmarks.length, 2);\n        for(let handIdx = 0; handIdx < numHands; handIdx++){\n            const hand = landmarks[handIdx];\n            if (hand && hand.length >= 21) {\n                // Extract 21 landmarks * 3 (x, y, z) = 63 features per hand\n                for (const point of hand){\n                    features.push(point.x, point.y, point.z || 0);\n                }\n            }\n        }\n        // Pad to 2 hands * 21 * 3 = 126 features\n        while(features.length < 126){\n            features.push(0, 0, 0);\n        }\n        return features.slice(0, 126);\n    }, []);\n    // Predict using TFJS model\n    const predictWithTFJS = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async (buffer)=>{\n        if (!tfjsModel || buffer.length < windowSize) return null;\n        try {\n            // Pad or trim buffer to windowSize\n            let processedBuffer = [\n                ...buffer\n            ];\n            if (processedBuffer.length > windowSize) {\n                processedBuffer = processedBuffer.slice(-windowSize);\n            } else {\n                while(processedBuffer.length < windowSize){\n                    processedBuffer.unshift(new Array(126).fill(0));\n                }\n            }\n            // Convert to tensor: [1, windowSize, features]\n            const tensor = _tensorflow_tfjs__WEBPACK_IMPORTED_MODULE_3__.tensor3d([\n                processedBuffer\n            ]);\n            const prediction = tfjsModel.predict(tensor);\n            // Get label and confidence\n            const predictions = await prediction.array();\n            await tensor.dispose();\n            await prediction.dispose();\n            const scores = predictions[0];\n            const maxIdx = scores.indexOf(Math.max(...scores));\n            const conf = scores[maxIdx];\n            // Map index to label using loaded class names or default\n            const labels = classNames.length > 0 ? classNames : [\n                \"Hello\",\n                \"Thank You\",\n                \"Yes\",\n                \"No\",\n                \"Please\",\n                \"Sorry\",\n                \"Good\",\n                \"Bad\",\n                \"Help\",\n                \"Welcome\"\n            ];\n            const label = labels[maxIdx] || \"Sign_\".concat(maxIdx);\n            return {\n                label,\n                confidence: conf\n            };\n        } catch (error) {\n            console.error(\"TFJS prediction error:\", error);\n            return null;\n        }\n    }, [\n        tfjsModel,\n        windowSize\n    ]);\n    // Send clip to server for inference\n    const sendToServer = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async (clipBase64, landmarks, meta)=>{\n        if (!user || !enableServerFallback) return null;\n        setIsSendingToServer(true);\n        try {\n            const idToken = await user.getIdToken();\n            const response = await fetch(\"/api/infer\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    \"Authorization\": \"Bearer \".concat(idToken)\n                },\n                body: JSON.stringify({\n                    clipBase64,\n                    landmarks,\n                    meta: {\n                        ...meta,\n                        consent: hasConsent\n                    }\n                })\n            });\n            if (!response.ok) {\n                throw new Error(\"Server inference failed: \".concat(response.statusText));\n            }\n            const result = await response.json();\n            return result;\n        } catch (error) {\n            console.error(\"Server inference error:\", error);\n            react_hot_toast__WEBPACK_IMPORTED_MODULE_6__[\"default\"].error(\"Server inference failed\");\n            return null;\n        } finally{\n            setIsSendingToServer(false);\n        }\n    }, [\n        user,\n        enableServerFallback,\n        hasConsent\n    ]);\n    // Capture video clip\n    const captureClip = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async ()=>{\n        return new Promise((resolve, reject)=>{\n            if (!streamRef.current) {\n                reject(new Error(\"No stream available\"));\n                return;\n            }\n            recordedChunksRef.current = [];\n            const mediaRecorder = new MediaRecorder(streamRef.current, {\n                mimeType: \"video/webm;codecs=vp8\"\n            });\n            mediaRecorderRef.current = mediaRecorder;\n            mediaRecorder.ondataavailable = (event)=>{\n                if (event.data.size > 0) {\n                    recordedChunksRef.current.push(event.data);\n                }\n            };\n            mediaRecorder.onstop = ()=>{\n                const blob = new Blob(recordedChunksRef.current, {\n                    type: \"video/webm\"\n                });\n                const reader = new FileReader();\n                reader.onload = ()=>{\n                    const base64 = reader.result.split(\",\")[1];\n                    resolve(base64);\n                };\n                reader.onerror = reject;\n                reader.readAsDataURL(blob);\n            };\n            mediaRecorder.start();\n            setTimeout(()=>{\n                mediaRecorder.stop();\n            }, 2500) // 2.5 second clip\n            ;\n        });\n    }, []);\n    // Main detection loop\n    const detectSigns = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        if (!isDetecting || !videoRef.current || !canvasRef.current) return;\n        const video = videoRef.current;\n        const canvas = canvasRef.current;\n        const startTimeMs = performance.now();\n        if (lastVideoTimeRef.current !== video.currentTime) {\n            lastVideoTimeRef.current = video.currentTime;\n            if (handLandmarkerRef.current) {\n                try {\n                    const results = handLandmarkerRef.current.detectForVideo(video, startTimeMs);\n                    drawLandmarks(results);\n                    if (results.landmarks && results.landmarks.length > 0) {\n                        // Normalize and add to buffer\n                        const normalized = normalizeLandmarks(results.landmarks);\n                        landmarkBufferRef.current.landmarks.push(normalized);\n                        landmarkBufferRef.current.timestamps.push(startTimeMs);\n                        // Keep buffer size\n                        if (landmarkBufferRef.current.landmarks.length > windowSize * 2) {\n                            landmarkBufferRef.current.landmarks.shift();\n                            landmarkBufferRef.current.timestamps.shift();\n                        }\n                        // Predict when buffer is ready (throttle to ~5Hz)\n                        const now = Date.now();\n                        if (landmarkBufferRef.current.landmarks.length >= windowSize && tfjsModel && now - lastPredictionTimeRef.current > 200) {\n                            lastPredictionTimeRef.current = now;\n                            predictWithTFJS(landmarkBufferRef.current.landmarks).then(async (prediction)=>{\n                                if (prediction) {\n                                    const { label, confidence: localConf } = prediction;\n                                    // Check if server inference needed\n                                    if (localConf < confidenceThreshold && autoSendToServer && hasConsent && serverModelAvailable !== false) {\n                                        // Capture clip and send to server\n                                        try {\n                                            const clipBase64 = await captureClip();\n                                            const serverResult = await sendToServer(clipBase64, landmarkBufferRef.current.landmarks.slice(-windowSize), {\n                                                timestamp: startTimeMs,\n                                                localLabel: label,\n                                                localConfidence: localConf\n                                            });\n                                            if (serverResult) {\n                                                // Fuse predictions\n                                                const fused = (0,_lib_fusion__WEBPACK_IMPORTED_MODULE_5__.fusePredictions)({\n                                                    label,\n                                                    confidence: localConf\n                                                }, serverResult);\n                                                setCurrentCaption(fused.label);\n                                                setConfidence(fused.confidence);\n                                                setPredictionSource(\"server\");\n                                                if (onCaption) {\n                                                    onCaption(fused.label, fused.confidence, \"server\");\n                                                }\n                                            }\n                                        } catch (error) {\n                                            console.error(\"Server inference pipeline error:\", error);\n                                        }\n                                    } else {\n                                        // Use local prediction\n                                        setCurrentCaption(label);\n                                        setConfidence(localConf);\n                                        setPredictionSource(\"local\");\n                                        if (onCaption) {\n                                            onCaption(label, localConf, \"local\");\n                                        }\n                                    }\n                                }\n                            });\n                        }\n                    }\n                } catch (error) {\n                    console.error(\"Detection error:\", error);\n                }\n            }\n        }\n        animationRef.current = requestAnimationFrame(detectSigns);\n    }, [\n        isDetecting,\n        tfjsModel,\n        windowSize,\n        normalizeLandmarks,\n        predictWithTFJS,\n        confidenceThreshold,\n        autoSendToServer,\n        hasConsent,\n        captureClip,\n        sendToServer,\n        onCaption\n    ]);\n    // Draw landmarks\n    const drawLandmarks = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((results)=>{\n        const canvas = canvasRef.current;\n        const video = videoRef.current;\n        if (!canvas || !video) return;\n        const ctx = canvas.getContext(\"2d\");\n        if (!ctx) return;\n        canvas.width = video.videoWidth;\n        canvas.height = video.videoHeight;\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\n        if (results && results.landmarks) {\n            const drawingUtils = new _mediapipe_tasks_vision__WEBPACK_IMPORTED_MODULE_2__.DrawingUtils(ctx);\n            for (const landmarks of results.landmarks){\n                drawingUtils.drawConnectors(landmarks, _mediapipe_tasks_vision__WEBPACK_IMPORTED_MODULE_2__.HandLandmarker.HAND_CONNECTIONS, {\n                    color: \"#00FF00\",\n                    lineWidth: 2\n                });\n                drawingUtils.drawLandmarks(landmarks, {\n                    color: \"#FF0000\",\n                    lineWidth: 1,\n                    radius: 3\n                });\n            }\n        }\n    }, []);\n    // Start detection\n    const startDetection = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async ()=>{\n        try {\n            const stream = await navigator.mediaDevices.getUserMedia({\n                video: {\n                    width: 640,\n                    height: 480,\n                    facingMode: \"user\"\n                }\n            });\n            streamRef.current = stream;\n            if (videoRef.current) {\n                videoRef.current.srcObject = stream;\n            }\n            setIsActive(true);\n            setIsDetecting(true);\n            detectSigns();\n        } catch (error) {\n            console.error(\"Error accessing camera:\", error);\n            react_hot_toast__WEBPACK_IMPORTED_MODULE_6__[\"default\"].error(\"Failed to access camera\");\n        }\n    }, [\n        detectSigns\n    ]);\n    // Stop detection\n    const stopDetection = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        if (streamRef.current) {\n            streamRef.current.getTracks().forEach((track)=>track.stop());\n            streamRef.current = null;\n        }\n        if (animationRef.current) {\n            cancelAnimationFrame(animationRef.current);\n        }\n        if (mediaRecorderRef.current && mediaRecorderRef.current.state !== \"inactive\") {\n            mediaRecorderRef.current.stop();\n        }\n        setIsActive(false);\n        setIsDetecting(false);\n        setCurrentCaption(null);\n        setConfidence(0);\n        setPredictionSource(null);\n    }, []);\n    // Manual server verification\n    const handleManualServerVerify = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async ()=>{\n        if (!hasConsent) {\n            react_hot_toast__WEBPACK_IMPORTED_MODULE_6__[\"default\"].error(\"Please provide consent for server verification\");\n            return;\n        }\n        if (landmarkBufferRef.current.landmarks.length < windowSize) {\n            react_hot_toast__WEBPACK_IMPORTED_MODULE_6__[\"default\"].error(\"Insufficient frames. Wait for buffer to fill.\");\n            return;\n        }\n        setIsSendingToServer(true);\n        try {\n            const clipBase64 = await captureClip();\n            const result = await sendToServer(clipBase64, landmarkBufferRef.current.landmarks.slice(-windowSize), {\n                timestamp: performance.now(),\n                localLabel: currentCaption || undefined,\n                localConfidence: confidence\n            });\n            if (result) {\n                react_hot_toast__WEBPACK_IMPORTED_MODULE_6__[\"default\"].success(\"Server result: \".concat(result.label, \" (\").concat((result.confidence * 100).toFixed(1), \"%)\"));\n                if (result.confidence > confidence) {\n                    setCurrentCaption(result.label);\n                    setConfidence(result.confidence);\n                    setPredictionSource(\"server\");\n                    if (onCaption) {\n                        onCaption(result.label, result.confidence, \"server\");\n                    }\n                }\n            }\n        } catch (error) {\n            console.error(\"Manual server verify error:\", error);\n        } finally{\n            setIsSendingToServer(false);\n        }\n    }, [\n        hasConsent,\n        windowSize,\n        currentCaption,\n        confidence,\n        captureClip,\n        sendToServer,\n        onCaption,\n        confidenceThreshold\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isDetecting) {\n            detectSigns();\n        }\n        return ()=>{\n            if (animationRef.current) {\n                cancelAnimationFrame(animationRef.current);\n            }\n        };\n    }, [\n        isDetecting,\n        detectSigns\n    ]);\n    const toggleDetection = ()=>{\n        if (isDetecting) {\n            stopDetection();\n        } else {\n            startDetection();\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"relative\",\n        children: [\n            enableServerFallback && !hasConsent && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_9__.motion.div, {\n                initial: {\n                    opacity: 0\n                },\n                animate: {\n                    opacity: 1\n                },\n                className: \"bg-black/90 backdrop-blur-sm rounded-lg p-4 mb-4 border border-yellow-500/50\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-white text-sm mb-3\",\n                        children: \"Enable server verification for improved accuracy? Low-confidence clips may be stored for training (with your consent).\"\n                    }, void 0, false, {\n                        fileName: \"E:\\\\Original Project\\\\apps\\\\frontend\\\\components\\\\MediaPipeSignDetector.tsx\",\n                        lineNumber: 597,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex gap-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: ()=>setHasConsent(true),\n                                className: \"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg text-sm\",\n                                children: \"Accept\"\n                            }, void 0, false, {\n                                fileName: \"E:\\\\Original Project\\\\apps\\\\frontend\\\\components\\\\MediaPipeSignDetector.tsx\",\n                                lineNumber: 601,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: ()=>setHasConsent(false),\n                                className: \"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg text-sm\",\n                                children: \"Local Only\"\n                            }, void 0, false, {\n                                fileName: \"E:\\\\Original Project\\\\apps\\\\frontend\\\\components\\\\MediaPipeSignDetector.tsx\",\n                                lineNumber: 607,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"E:\\\\Original Project\\\\apps\\\\frontend\\\\components\\\\MediaPipeSignDetector.tsx\",\n                        lineNumber: 600,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"E:\\\\Original Project\\\\apps\\\\frontend\\\\components\\\\MediaPipeSignDetector.tsx\",\n                lineNumber: 592,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_9__.motion.div, {\n                initial: {\n                    opacity: 0,\n                    y: -10\n                },\n                animate: {\n                    opacity: 1,\n                    y: 0\n                },\n                className: \"bg-black/80 backdrop-blur-sm rounded-lg p-3 mb-2\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center justify-between\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center space-x-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"w-2 h-2 rounded-full \".concat(isDetecting ? \"bg-green-500 animate-pulse\" : \"bg-gray-500\")\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\Original Project\\\\apps\\\\frontend\\\\components\\\\MediaPipeSignDetector.tsx\",\n                                        lineNumber: 625,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-white text-xs font-medium\",\n                                        children: isDetecting ? \"Detecting\" : \"Idle\"\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\Original Project\\\\apps\\\\frontend\\\\components\\\\MediaPipeSignDetector.tsx\",\n                                        lineNumber: 628,\n                                        columnNumber: 13\n                                    }, this),\n                                    currentCaption && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-cyan-400 text-xs\",\n                                                children: \"|\"\n                                            }, void 0, false, {\n                                                fileName: \"E:\\\\Original Project\\\\apps\\\\frontend\\\\components\\\\MediaPipeSignDetector.tsx\",\n                                                lineNumber: 633,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-cyan-400 text-xs font-semibold\",\n                                                children: currentCaption\n                                            }, void 0, false, {\n                                                fileName: \"E:\\\\Original Project\\\\apps\\\\frontend\\\\components\\\\MediaPipeSignDetector.tsx\",\n                                                lineNumber: 634,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-xs \".concat(predictionSource === \"server\" ? \"text-purple-400\" : \"text-yellow-400\"),\n                                                children: [\n                                                    Math.round(confidence * 100),\n                                                    \"% \",\n                                                    predictionSource === \"server\" && \"\\uD83D\\uDDA5️\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"E:\\\\Original Project\\\\apps\\\\frontend\\\\components\\\\MediaPipeSignDetector.tsx\",\n                                                lineNumber: 635,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"E:\\\\Original Project\\\\apps\\\\frontend\\\\components\\\\MediaPipeSignDetector.tsx\",\n                                lineNumber: 624,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center gap-2\",\n                                children: [\n                                    isDetecting && enableServerFallback && hasConsent && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: handleManualServerVerify,\n                                        disabled: isSendingToServer,\n                                        className: \"p-1.5 text-purple-400 hover:text-purple-300 disabled:opacity-50 transition-colors\",\n                                        title: \"Force server verification\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Activity_Eye_EyeOff_Server_lucide_react__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                                            className: \"w-4 h-4\"\n                                        }, void 0, false, {\n                                            fileName: \"E:\\\\Original Project\\\\apps\\\\frontend\\\\components\\\\MediaPipeSignDetector.tsx\",\n                                            lineNumber: 649,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\Original Project\\\\apps\\\\frontend\\\\components\\\\MediaPipeSignDetector.tsx\",\n                                        lineNumber: 643,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: toggleDetection,\n                                        className: \"p-1 text-gray-400 hover:text-white transition-colors\",\n                                        children: isDetecting ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Activity_Eye_EyeOff_Server_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                                            className: \"w-4 h-4\"\n                                        }, void 0, false, {\n                                            fileName: \"E:\\\\Original Project\\\\apps\\\\frontend\\\\components\\\\MediaPipeSignDetector.tsx\",\n                                            lineNumber: 656,\n                                            columnNumber: 30\n                                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Activity_Eye_EyeOff_Server_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                                            className: \"w-4 h-4\"\n                                        }, void 0, false, {\n                                            fileName: \"E:\\\\Original Project\\\\apps\\\\frontend\\\\components\\\\MediaPipeSignDetector.tsx\",\n                                            lineNumber: 656,\n                                            columnNumber: 63\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\Original Project\\\\apps\\\\frontend\\\\components\\\\MediaPipeSignDetector.tsx\",\n                                        lineNumber: 652,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"E:\\\\Original Project\\\\apps\\\\frontend\\\\components\\\\MediaPipeSignDetector.tsx\",\n                                lineNumber: 641,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"E:\\\\Original Project\\\\apps\\\\frontend\\\\components\\\\MediaPipeSignDetector.tsx\",\n                        lineNumber: 623,\n                        columnNumber: 9\n                    }, this),\n                    isSendingToServer && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mt-2 text-xs text-purple-400 flex items-center gap-1\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Activity_Eye_EyeOff_Server_lucide_react__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                                className: \"w-3 h-3 animate-spin\"\n                            }, void 0, false, {\n                                fileName: \"E:\\\\Original Project\\\\apps\\\\frontend\\\\components\\\\MediaPipeSignDetector.tsx\",\n                                lineNumber: 662,\n                                columnNumber: 13\n                            }, this),\n                            \"Sending to server...\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"E:\\\\Original Project\\\\apps\\\\frontend\\\\components\\\\MediaPipeSignDetector.tsx\",\n                        lineNumber: 661,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"E:\\\\Original Project\\\\apps\\\\frontend\\\\components\\\\MediaPipeSignDetector.tsx\",\n                lineNumber: 618,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"relative\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"video\", {\n                        ref: videoRef,\n                        className: \"w-full h-auto rounded-lg\",\n                        autoPlay: true,\n                        playsInline: true,\n                        muted: true\n                    }, void 0, false, {\n                        fileName: \"E:\\\\Original Project\\\\apps\\\\frontend\\\\components\\\\MediaPipeSignDetector.tsx\",\n                        lineNumber: 670,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"canvas\", {\n                        ref: canvasRef,\n                        className: \"absolute top-0 left-0 w-full h-full rounded-lg pointer-events-none\"\n                    }, void 0, false, {\n                        fileName: \"E:\\\\Original Project\\\\apps\\\\frontend\\\\components\\\\MediaPipeSignDetector.tsx\",\n                        lineNumber: 677,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"E:\\\\Original Project\\\\apps\\\\frontend\\\\components\\\\MediaPipeSignDetector.tsx\",\n                lineNumber: 669,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-2 text-xs text-gray-400 space-y-1\",\n                children: [\n                    !tfjsModel && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-yellow-400\",\n                        children: \"⚠️ TFJS model not loaded. Place model in public/models/tfjs_landmark_model/\"\n                    }, void 0, false, {\n                        fileName: \"E:\\\\Original Project\\\\apps\\\\frontend\\\\components\\\\MediaPipeSignDetector.tsx\",\n                        lineNumber: 686,\n                        columnNumber: 11\n                    }, this),\n                    tfjsModel && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: \"✅ TFJS model loaded\"\n                    }, void 0, false, {\n                        fileName: \"E:\\\\Original Project\\\\apps\\\\frontend\\\\components\\\\MediaPipeSignDetector.tsx\",\n                        lineNumber: 688,\n                        columnNumber: 23\n                    }, this),\n                    hasConsent && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: \"✅ Server verification enabled\"\n                    }, void 0, false, {\n                        fileName: \"E:\\\\Original Project\\\\apps\\\\frontend\\\\components\\\\MediaPipeSignDetector.tsx\",\n                        lineNumber: 689,\n                        columnNumber: 24\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"E:\\\\Original Project\\\\apps\\\\frontend\\\\components\\\\MediaPipeSignDetector.tsx\",\n                lineNumber: 684,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"E:\\\\Original Project\\\\apps\\\\frontend\\\\components\\\\MediaPipeSignDetector.tsx\",\n        lineNumber: 589,\n        columnNumber: 5\n    }, this);\n}\n_s(MediaPipeSignDetector, \"y+U5Bg9NmM/jttS7F/QiZ7cqH3c=\", false, function() {\n    return [\n        _lib_auth_context__WEBPACK_IMPORTED_MODULE_7__.useAuth\n    ];\n});\n_c = MediaPipeSignDetector;\nvar _c;\n$RefreshReg$(_c, \"MediaPipeSignDetector\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvTWVkaWFQaXBlU2lnbkRldGVjdG9yLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFdUU7QUFDakM7QUFDNEI7QUFDcUI7QUFDakQ7QUFDVTtBQUNGO0FBQ1g7QUFDUztBQVdiO0FBa0JoQixTQUFTb0Isc0JBQXNCLEtBR2pCO1FBSGlCLEVBQzVDQyxTQUFTLEVBQ1RDLFVBQVUsQ0FBQyxDQUFDLEVBQ2UsR0FIaUI7O0lBSTVDLE1BQU0sRUFDSkMsYUFBYSxFQUFFLEVBQ2ZDLHNCQUFzQixJQUFJLEVBQzFCQyx1QkFBdUIsSUFBSSxFQUMzQkMsbUJBQW1CLElBQUksRUFDdkJDLGtCQUFrQixJQUFJLEVBQ3ZCLEdBQUdMO0lBRUosTUFBTSxFQUFFTSxJQUFJLEVBQUUsR0FBR1gsMERBQU9BO0lBQ3hCLE1BQU0sQ0FBQ1ksVUFBVUMsWUFBWSxHQUFHM0IsK0NBQVFBLENBQUM7SUFDekMsTUFBTSxDQUFDNEIsYUFBYUMsZUFBZSxHQUFHN0IsK0NBQVFBLENBQUM7SUFDL0MsTUFBTSxDQUFDOEIsZ0JBQWdCQyxrQkFBa0IsR0FBRy9CLCtDQUFRQSxDQUFnQjtJQUNwRSxNQUFNLENBQUNnQyxZQUFZQyxjQUFjLEdBQUdqQywrQ0FBUUEsQ0FBQztJQUM3QyxNQUFNLENBQUNrQyxrQkFBa0JDLG9CQUFvQixHQUFHbkMsK0NBQVFBLENBQXdDO0lBQ2hHLE1BQU0sQ0FBQ29DLG1CQUFtQkMscUJBQXFCLEdBQUdyQywrQ0FBUUEsQ0FBQztJQUMzRCxNQUFNLENBQUNzQyxXQUFXQyxhQUFhLEdBQUd2QywrQ0FBUUEsQ0FBd0I7SUFDbEUsTUFBTSxDQUFDd0MsWUFBWUMsY0FBYyxHQUFHekMsK0NBQVFBLENBQUM7SUFDN0MsTUFBTSxDQUFDMEMsc0JBQXNCQyx3QkFBd0IsR0FBRzNDLCtDQUFRQSxDQUFpQjtJQUNqRixNQUFNLENBQUM0QyxZQUFZQyxjQUFjLEdBQUc3QywrQ0FBUUEsQ0FBVyxFQUFFO0lBQ3pELE1BQU0sQ0FBQzhDLG1CQUFtQkMscUJBQXFCLEdBQUcvQywrQ0FBUUEsQ0FBbUMsQ0FBQztJQUM5RixNQUFNLENBQUNnRCxtQkFBbUJDLHFCQUFxQixHQUFHakQsK0NBQVFBLENBQW1DLENBQUM7SUFDOUYsTUFBTSxDQUFDa0QsaUJBQWlCQyxtQkFBbUIsR0FBR25ELCtDQUFRQSxDQUFDO0lBQ3ZELE1BQU1vRCwwQkFBMEJ0RCw2Q0FBTUEsQ0FBc0IsSUFBSXVEO0lBQ2hFLE1BQU1DLHVCQUF1QnhELDZDQUFNQSxDQUFxQjtJQUV4RCxNQUFNeUQsV0FBV3pELDZDQUFNQSxDQUFtQjtJQUMxQyxNQUFNMEQsWUFBWTFELDZDQUFNQSxDQUFvQjtJQUM1QyxNQUFNMkQsWUFBWTNELDZDQUFNQSxDQUFxQjtJQUM3QyxNQUFNNEQsZUFBZTVELDZDQUFNQTtJQUMzQixNQUFNNkQsb0JBQW9CN0QsNkNBQU1BLENBQXdCO0lBQ3hELE1BQU04RCxtQkFBbUI5RCw2Q0FBTUEsQ0FBQyxDQUFDO0lBQ2pDLE1BQU0rRCxvQkFBb0IvRCw2Q0FBTUEsQ0FBaUI7UUFDL0NnRSxXQUFXLEVBQUU7UUFDYkMsWUFBWSxFQUFFO0lBQ2hCO0lBQ0EsTUFBTUMsbUJBQW1CbEUsNkNBQU1BLENBQXVCO0lBQ3RELE1BQU1tRSxvQkFBb0JuRSw2Q0FBTUEsQ0FBUyxFQUFFO0lBQzNDLE1BQU1vRSx3QkFBd0JwRSw2Q0FBTUEsQ0FBQztJQUVyQyx1Q0FBdUM7SUFDdkNDLGdEQUFTQSxDQUFDO1FBQ1IsTUFBTW9FLDJCQUEyQjtZQUMvQixJQUFJO2dCQUNGLE1BQU1DLFNBQVMsTUFBTTVELG9FQUFlQSxDQUFDNkQsY0FBYyxDQUNqRDtnQkFHRlYsa0JBQWtCVyxPQUFPLEdBQUcsTUFBTS9ELG1FQUFjQSxDQUFDZ0UsaUJBQWlCLENBQUNILFFBQVE7b0JBQ3pFSSxhQUFhO3dCQUNYQyxnQkFBZ0I7d0JBQ2hCQyxVQUFVO29CQUNaO29CQUNBQyxhQUFhO29CQUNiQyxVQUFVO2dCQUNaO2dCQUVBQyxRQUFRQyxHQUFHLENBQUM7WUFDZCxFQUFFLE9BQU9DLE9BQU87Z0JBQ2RGLFFBQVFFLEtBQUssQ0FBQyxtQ0FBbUNBO2dCQUNqRGxFLHVEQUFLQSxDQUFDa0UsS0FBSyxDQUFDO1lBQ2Q7UUFDRjtRQUVBWjtJQUNGLEdBQUcsRUFBRTtJQUVMLGlCQUFpQjtJQUNqQnBFLGdEQUFTQSxDQUFDO1FBQ1IsSUFBSSxDQUFDeUIsaUJBQWlCO1FBRXRCLE1BQU13RCxnQkFBZ0I7WUFDcEIsSUFBSTtnQkFDRixNQUFNLENBQUNDLFdBQVdDLFVBQVUsR0FBRyxNQUFNQyxRQUFRQyxHQUFHLENBQUM7b0JBQy9DckUsNEVBQXFCQTtvQkFDckJDLDRFQUFxQkE7aUJBQ3RCO2dCQUVEK0IscUJBQXFCa0M7Z0JBQ3JCaEMscUJBQXFCaUM7Z0JBQ3JCL0IsbUJBQW1CO2dCQUNuQjBCLFFBQVFDLEdBQUcsQ0FBQyx1QkFBdUJPLE9BQU9DLElBQUksQ0FBQ0wsV0FBV00sTUFBTSxFQUFFLGNBQWNGLE9BQU9DLElBQUksQ0FBQ0osV0FBV0ssTUFBTSxFQUFFO1lBQ2pILEVBQUUsT0FBT1IsT0FBTztnQkFDZEYsUUFBUUUsS0FBSyxDQUFDLDhCQUE4QkE7Z0JBQzVDbEUsdURBQUtBLENBQUNrRSxLQUFLLENBQUM7WUFDZDtRQUNGO1FBRUFDO0lBQ0YsR0FBRztRQUFDeEQ7S0FBZ0I7SUFFcEIsa0JBQWtCO0lBQ2xCekIsZ0RBQVNBLENBQUM7UUFDUixNQUFNeUYsWUFBWTtZQUNoQixJQUFJO2dCQUNGLE1BQU1DLFFBQVEsTUFBTTlFLDhEQUFhQSxDQUFDO2dCQUNsQzRCLGFBQWFrRDtnQkFFYiwwQkFBMEI7Z0JBQzFCLElBQUk7b0JBQ0YsTUFBTUMsV0FBVyxNQUFNQyxNQUFNO29CQUM3QixJQUFJRCxTQUFTRSxFQUFFLEVBQUU7d0JBQ2YsTUFBTUMsUUFBUSxNQUFNSCxTQUFTSSxJQUFJO3dCQUNqQ2pELGNBQWNnRDtvQkFDaEIsT0FBTzt3QkFDTCxzQkFBc0I7d0JBQ3RCaEQsY0FBYzs0QkFBQzs0QkFBUzs0QkFBYTs0QkFBTzs0QkFBTTs0QkFBVTs0QkFBUzs0QkFBUTs0QkFBTzs0QkFBUTt5QkFBVTtvQkFDeEc7Z0JBQ0YsRUFBRSxPQUFPa0QsR0FBRztvQkFDVmxELGNBQWM7d0JBQUM7d0JBQVM7d0JBQWE7d0JBQU87d0JBQU07d0JBQVU7d0JBQVM7d0JBQVE7d0JBQU87d0JBQVE7cUJBQVU7Z0JBQ3hHO2dCQUVBZ0MsUUFBUUMsR0FBRyxDQUFDO1lBQ2QsRUFBRSxPQUFPQyxPQUFPO2dCQUNkRixRQUFRRSxLQUFLLENBQUMsK0JBQStCQTtZQUM3QywyREFBMkQ7WUFDN0Q7UUFDRjtRQUVBUztJQUNGLEdBQUcsRUFBRTtJQUVMLGtDQUFrQztJQUNsQ3pGLGdEQUFTQSxDQUFDO1FBQ1IsTUFBTWlHLG1CQUFtQjtZQUN2QixJQUFJO2dCQUNGLElBQUksQ0FBQ3ZFLE1BQU07Z0JBRVgsTUFBTXdFLFVBQVUsTUFBTXhFLEtBQUt5RSxVQUFVO2dCQUNyQyxNQUFNUixXQUFXLE1BQU1DLE1BQU0scUJBQXFCO29CQUNoRFEsU0FBUzt3QkFBRUMsZUFBZSxVQUFrQixPQUFSSDtvQkFBVTtnQkFDaEQ7Z0JBRUEsSUFBSVAsU0FBU0UsRUFBRSxFQUFFO29CQUNmLE1BQU1TLE9BQU8sTUFBTVgsU0FBU0ksSUFBSTtvQkFDaENuRCx3QkFBd0IwRCxLQUFLQyxjQUFjLEtBQUs7Z0JBQ2xEO1lBQ0YsRUFBRSxPQUFPdkIsT0FBTztnQkFDZEYsUUFBUTBCLElBQUksQ0FBQyx3Q0FBd0N4QjtnQkFDckRwQyx3QkFBd0I7WUFDMUI7UUFDRjtRQUVBLElBQUlsQixRQUFRSCxzQkFBc0I7WUFDaEMwRTtRQUNGO0lBQ0YsR0FBRztRQUFDdkU7UUFBTUg7S0FBcUI7SUFFL0IseUNBQXlDO0lBQ3pDdkIsZ0RBQVNBLENBQUM7UUFDUixJQUFJLElBQWtCLEVBQWE7WUFDakMsTUFBTXlHLElBQUlDLGFBQWFDLE9BQU8sQ0FBQywrQkFBK0I7WUFDOURqRSxjQUFjK0Q7UUFDaEI7SUFDRixHQUFHLEVBQUU7SUFFTCx3Q0FBd0M7SUFDeEMsTUFBTUcscUJBQXFCMUcsa0RBQVdBLENBQUMsQ0FBQzZEO1FBQ3RDLElBQUksQ0FBQ0EsYUFBYUEsVUFBVXlCLE1BQU0sS0FBSyxHQUFHLE9BQU8sRUFBRTtRQUVuRCxNQUFNcUIsV0FBcUIsRUFBRTtRQUM3QixNQUFNaEMsV0FBV2lDLEtBQUtDLEdBQUcsQ0FBQ2hELFVBQVV5QixNQUFNLEVBQUU7UUFFNUMsSUFBSyxJQUFJd0IsVUFBVSxHQUFHQSxVQUFVbkMsVUFBVW1DLFVBQVc7WUFDbkQsTUFBTUMsT0FBT2xELFNBQVMsQ0FBQ2lELFFBQVE7WUFDL0IsSUFBSUMsUUFBUUEsS0FBS3pCLE1BQU0sSUFBSSxJQUFJO2dCQUM3Qiw0REFBNEQ7Z0JBQzVELEtBQUssTUFBTTBCLFNBQVNELEtBQU07b0JBQ3hCSixTQUFTTSxJQUFJLENBQUNELE1BQU1FLENBQUMsRUFBRUYsTUFBTUcsQ0FBQyxFQUFFSCxNQUFNSSxDQUFDLElBQUk7Z0JBQzdDO1lBQ0Y7UUFDRjtRQUVBLHlDQUF5QztRQUN6QyxNQUFPVCxTQUFTckIsTUFBTSxHQUFHLElBQUs7WUFDNUJxQixTQUFTTSxJQUFJLENBQUMsR0FBRyxHQUFHO1FBQ3RCO1FBRUEsT0FBT04sU0FBU1UsS0FBSyxDQUFDLEdBQUc7SUFDM0IsR0FBRyxFQUFFO0lBRUwsMkJBQTJCO0lBQzNCLE1BQU1DLGtCQUFrQnRILGtEQUFXQSxDQUFDLE9BQU91SDtRQUN6QyxJQUFJLENBQUNsRixhQUFha0YsT0FBT2pDLE1BQU0sR0FBR25FLFlBQVksT0FBTztRQUVyRCxJQUFJO1lBQ0YsbUNBQW1DO1lBQ25DLElBQUlxRyxrQkFBa0I7bUJBQUlEO2FBQU87WUFDakMsSUFBSUMsZ0JBQWdCbEMsTUFBTSxHQUFHbkUsWUFBWTtnQkFDdkNxRyxrQkFBa0JBLGdCQUFnQkgsS0FBSyxDQUFDLENBQUNsRztZQUMzQyxPQUFPO2dCQUNMLE1BQU9xRyxnQkFBZ0JsQyxNQUFNLEdBQUduRSxXQUFZO29CQUMxQ3FHLGdCQUFnQkMsT0FBTyxDQUFDLElBQUlDLE1BQU0sS0FBS0MsSUFBSSxDQUFDO2dCQUM5QztZQUNGO1lBRUEsK0NBQStDO1lBQy9DLE1BQU1DLFNBQVNuSCxzREFBVyxDQUFDO2dCQUFDK0c7YUFBZ0I7WUFDNUMsTUFBTU0sYUFBYXpGLFVBQVUwRixPQUFPLENBQUNIO1lBRXJDLDJCQUEyQjtZQUMzQixNQUFNSSxjQUFjLE1BQU1GLFdBQVdHLEtBQUs7WUFDMUMsTUFBTUwsT0FBT00sT0FBTztZQUNwQixNQUFNSixXQUFXSSxPQUFPO1lBRXhCLE1BQU1DLFNBQVNILFdBQVcsQ0FBQyxFQUFFO1lBQzdCLE1BQU1JLFNBQVNELE9BQU9FLE9BQU8sQ0FBQ3pCLEtBQUswQixHQUFHLElBQUlIO1lBQzFDLE1BQU1JLE9BQU9KLE1BQU0sQ0FBQ0MsT0FBTztZQUUzQix5REFBeUQ7WUFDekQsTUFBTUksU0FBUzdGLFdBQVcyQyxNQUFNLEdBQUcsSUFBSTNDLGFBQWE7Z0JBQUM7Z0JBQVM7Z0JBQWE7Z0JBQU87Z0JBQU07Z0JBQVU7Z0JBQVM7Z0JBQVE7Z0JBQU87Z0JBQVE7YUFBVTtZQUM1SSxNQUFNOEYsUUFBUUQsTUFBTSxDQUFDSixPQUFPLElBQUksUUFBZSxPQUFQQTtZQUV4QyxPQUFPO2dCQUFFSztnQkFBTzFHLFlBQVl3RztZQUFLO1FBQ25DLEVBQUUsT0FBT3pELE9BQU87WUFDZEYsUUFBUUUsS0FBSyxDQUFDLDBCQUEwQkE7WUFDeEMsT0FBTztRQUNUO0lBQ0YsR0FBRztRQUFDekM7UUFBV2xCO0tBQVc7SUFFMUIsb0NBQW9DO0lBQ3BDLE1BQU11SCxlQUFlMUksa0RBQVdBLENBQUMsT0FDL0IySSxZQUNBOUUsV0FDQStFO1FBRUEsSUFBSSxDQUFDcEgsUUFBUSxDQUFDSCxzQkFBc0IsT0FBTztRQUUzQ2UscUJBQXFCO1FBRXJCLElBQUk7WUFDRixNQUFNNEQsVUFBVSxNQUFNeEUsS0FBS3lFLFVBQVU7WUFFckMsTUFBTVIsV0FBVyxNQUFNQyxNQUFNLGNBQWM7Z0JBQ3pDbUQsUUFBUTtnQkFDUjNDLFNBQVM7b0JBQ1AsZ0JBQWdCO29CQUNoQixpQkFBaUIsVUFBa0IsT0FBUkY7Z0JBQzdCO2dCQUNBOEMsTUFBTUMsS0FBS0MsU0FBUyxDQUFDO29CQUNuQkw7b0JBQ0E5RTtvQkFDQStFLE1BQU07d0JBQUUsR0FBR0EsSUFBSTt3QkFBRUssU0FBUzFHO29CQUFXO2dCQUN2QztZQUNGO1lBRUEsSUFBSSxDQUFDa0QsU0FBU0UsRUFBRSxFQUFFO2dCQUNoQixNQUFNLElBQUl1RCxNQUFNLDRCQUFnRCxPQUFwQnpELFNBQVMwRCxVQUFVO1lBQ2pFO1lBRUEsTUFBTUMsU0FBUyxNQUFNM0QsU0FBU0ksSUFBSTtZQUNsQyxPQUFPdUQ7UUFDVCxFQUFFLE9BQU90RSxPQUFPO1lBQ2RGLFFBQVFFLEtBQUssQ0FBQywyQkFBMkJBO1lBQ3pDbEUsdURBQUtBLENBQUNrRSxLQUFLLENBQUM7WUFDWixPQUFPO1FBQ1QsU0FBVTtZQUNSMUMscUJBQXFCO1FBQ3ZCO0lBQ0YsR0FBRztRQUFDWjtRQUFNSDtRQUFzQmtCO0tBQVc7SUFFM0MscUJBQXFCO0lBQ3JCLE1BQU04RyxjQUFjckosa0RBQVdBLENBQUM7UUFDOUIsT0FBTyxJQUFJa0YsUUFBUSxDQUFDb0UsU0FBU0M7WUFDM0IsSUFBSSxDQUFDL0YsVUFBVWEsT0FBTyxFQUFFO2dCQUN0QmtGLE9BQU8sSUFBSUwsTUFBTTtnQkFDakI7WUFDRjtZQUVBbEYsa0JBQWtCSyxPQUFPLEdBQUcsRUFBRTtZQUU5QixNQUFNbUYsZ0JBQWdCLElBQUlDLGNBQWNqRyxVQUFVYSxPQUFPLEVBQUU7Z0JBQ3pEcUYsVUFBVTtZQUNaO1lBRUEzRixpQkFBaUJNLE9BQU8sR0FBR21GO1lBRTNCQSxjQUFjRyxlQUFlLEdBQUcsQ0FBQ0M7Z0JBQy9CLElBQUlBLE1BQU14RCxJQUFJLENBQUN5RCxJQUFJLEdBQUcsR0FBRztvQkFDdkI3RixrQkFBa0JLLE9BQU8sQ0FBQzRDLElBQUksQ0FBQzJDLE1BQU14RCxJQUFJO2dCQUMzQztZQUNGO1lBRUFvRCxjQUFjTSxNQUFNLEdBQUc7Z0JBQ3JCLE1BQU1DLE9BQU8sSUFBSUMsS0FBS2hHLGtCQUFrQkssT0FBTyxFQUFFO29CQUFFNEYsTUFBTTtnQkFBYTtnQkFDdEUsTUFBTUMsU0FBUyxJQUFJQztnQkFDbkJELE9BQU9FLE1BQU0sR0FBRztvQkFDZCxNQUFNQyxTQUFTLE9BQVFqQixNQUFNLENBQVlrQixLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUU7b0JBQ3REaEIsUUFBUWU7Z0JBQ1Y7Z0JBQ0FILE9BQU9LLE9BQU8sR0FBR2hCO2dCQUNqQlcsT0FBT00sYUFBYSxDQUFDVDtZQUN2QjtZQUVBUCxjQUFjaUIsS0FBSztZQUNuQkMsV0FBVztnQkFDVGxCLGNBQWNtQixJQUFJO1lBQ3BCLEdBQUcsTUFBTSxrQkFBa0I7O1FBQzdCO0lBQ0YsR0FBRyxFQUFFO0lBRUwsc0JBQXNCO0lBQ3RCLE1BQU1DLGNBQWM1SyxrREFBV0EsQ0FBQztRQUM5QixJQUFJLENBQUMyQixlQUFlLENBQUMyQixTQUFTZSxPQUFPLElBQUksQ0FBQ2QsVUFBVWMsT0FBTyxFQUFFO1FBRTdELE1BQU13RyxRQUFRdkgsU0FBU2UsT0FBTztRQUM5QixNQUFNeUcsU0FBU3ZILFVBQVVjLE9BQU87UUFDaEMsTUFBTTBHLGNBQWNDLFlBQVlDLEdBQUc7UUFFbkMsSUFBSXRILGlCQUFpQlUsT0FBTyxLQUFLd0csTUFBTUssV0FBVyxFQUFFO1lBQ2xEdkgsaUJBQWlCVSxPQUFPLEdBQUd3RyxNQUFNSyxXQUFXO1lBRTVDLElBQUl4SCxrQkFBa0JXLE9BQU8sRUFBRTtnQkFDN0IsSUFBSTtvQkFDRixNQUFNOEcsVUFBVXpILGtCQUFrQlcsT0FBTyxDQUFDK0csY0FBYyxDQUFDUCxPQUFPRTtvQkFFaEVNLGNBQWNGO29CQUVkLElBQUlBLFFBQVF0SCxTQUFTLElBQUlzSCxRQUFRdEgsU0FBUyxDQUFDeUIsTUFBTSxHQUFHLEdBQUc7d0JBQ3JELDhCQUE4Qjt3QkFDOUIsTUFBTWdHLGFBQWE1RSxtQkFBbUJ5RSxRQUFRdEgsU0FBUzt3QkFDdkRELGtCQUFrQlMsT0FBTyxDQUFDUixTQUFTLENBQUNvRCxJQUFJLENBQUNxRTt3QkFDekMxSCxrQkFBa0JTLE9BQU8sQ0FBQ1AsVUFBVSxDQUFDbUQsSUFBSSxDQUFDOEQ7d0JBRTFDLG1CQUFtQjt3QkFDbkIsSUFBSW5ILGtCQUFrQlMsT0FBTyxDQUFDUixTQUFTLENBQUN5QixNQUFNLEdBQUduRSxhQUFhLEdBQUc7NEJBQy9EeUMsa0JBQWtCUyxPQUFPLENBQUNSLFNBQVMsQ0FBQzBILEtBQUs7NEJBQ3pDM0gsa0JBQWtCUyxPQUFPLENBQUNQLFVBQVUsQ0FBQ3lILEtBQUs7d0JBQzVDO3dCQUVBLGtEQUFrRDt3QkFDbEQsTUFBTU4sTUFBTU8sS0FBS1AsR0FBRzt3QkFDcEIsSUFBSXJILGtCQUFrQlMsT0FBTyxDQUFDUixTQUFTLENBQUN5QixNQUFNLElBQUluRSxjQUM5Q2tCLGFBQ0E0SSxNQUFNaEgsc0JBQXNCSSxPQUFPLEdBQUcsS0FBSzs0QkFDN0NKLHNCQUFzQkksT0FBTyxHQUFHNEc7NEJBRWhDM0QsZ0JBQWdCMUQsa0JBQWtCUyxPQUFPLENBQUNSLFNBQVMsRUFBRTRILElBQUksQ0FBQyxPQUFPM0Q7Z0NBQy9ELElBQUlBLFlBQVk7b0NBQ2QsTUFBTSxFQUFFVyxLQUFLLEVBQUUxRyxZQUFZMkosU0FBUyxFQUFFLEdBQUc1RDtvQ0FFekMsbUNBQW1DO29DQUNuQyxJQUFJNEQsWUFBWXRLLHVCQUNaRSxvQkFDQWlCLGNBQ0FFLHlCQUF5QixPQUFPO3dDQUNsQyxrQ0FBa0M7d0NBQ2xDLElBQUk7NENBQ0YsTUFBTWtHLGFBQWEsTUFBTVU7NENBQ3pCLE1BQU1zQyxlQUFlLE1BQU1qRCxhQUN6QkMsWUFDQS9FLGtCQUFrQlMsT0FBTyxDQUFDUixTQUFTLENBQUN3RCxLQUFLLENBQUMsQ0FBQ2xHLGFBQzNDO2dEQUNFeUssV0FBV2I7Z0RBQ1hjLFlBQVlwRDtnREFDWnFELGlCQUFpQko7NENBQ25COzRDQUdGLElBQUlDLGNBQWM7Z0RBQ2hCLG1CQUFtQjtnREFDbkIsTUFBTUksUUFBUXBMLDREQUFlQSxDQUMzQjtvREFBRThIO29EQUFPMUcsWUFBWTJKO2dEQUFVLEdBQy9CQztnREFHRjdKLGtCQUFrQmlLLE1BQU10RCxLQUFLO2dEQUM3QnpHLGNBQWMrSixNQUFNaEssVUFBVTtnREFDOUJHLG9CQUFvQjtnREFFcEIsSUFBSWpCLFdBQVc7b0RBQ2JBLFVBQVU4SyxNQUFNdEQsS0FBSyxFQUFFc0QsTUFBTWhLLFVBQVUsRUFBRTtnREFDM0M7NENBQ0Y7d0NBQ0YsRUFBRSxPQUFPK0MsT0FBTzs0Q0FDZEYsUUFBUUUsS0FBSyxDQUFDLG9DQUFvQ0E7d0NBQ3BEO29DQUNGLE9BQU87d0NBQ0wsdUJBQXVCO3dDQUN2QmhELGtCQUFrQjJHO3dDQUNsQnpHLGNBQWMwSjt3Q0FDZHhKLG9CQUFvQjt3Q0FFcEIsSUFBSWpCLFdBQVc7NENBQ2JBLFVBQVV3SCxPQUFPaUQsV0FBVzt3Q0FDOUI7b0NBQ0Y7Z0NBQ0Y7NEJBQ0Y7d0JBQ0Y7b0JBQ0Y7Z0JBQ0YsRUFBRSxPQUFPNUcsT0FBTztvQkFDZEYsUUFBUUUsS0FBSyxDQUFDLG9CQUFvQkE7Z0JBQ3BDO1lBQ0Y7UUFDRjtRQUVBckIsYUFBYVksT0FBTyxHQUFHMkgsc0JBQXNCcEI7SUFDL0MsR0FBRztRQUFDako7UUFBYVU7UUFBV2xCO1FBQVl1RjtRQUFvQlk7UUFBaUJsRztRQUFxQkU7UUFBa0JpQjtRQUFZOEc7UUFBYVg7UUFBY3pIO0tBQVU7SUFFckssaUJBQWlCO0lBQ2pCLE1BQU1vSyxnQkFBZ0JyTCxrREFBV0EsQ0FBQyxDQUFDbUw7UUFDakMsTUFBTUwsU0FBU3ZILFVBQVVjLE9BQU87UUFDaEMsTUFBTXdHLFFBQVF2SCxTQUFTZSxPQUFPO1FBRTlCLElBQUksQ0FBQ3lHLFVBQVUsQ0FBQ0QsT0FBTztRQUV2QixNQUFNb0IsTUFBTW5CLE9BQU9vQixVQUFVLENBQUM7UUFDOUIsSUFBSSxDQUFDRCxLQUFLO1FBRVZuQixPQUFPcUIsS0FBSyxHQUFHdEIsTUFBTXVCLFVBQVU7UUFDL0J0QixPQUFPdUIsTUFBTSxHQUFHeEIsTUFBTXlCLFdBQVc7UUFDakNMLElBQUlNLFNBQVMsQ0FBQyxHQUFHLEdBQUd6QixPQUFPcUIsS0FBSyxFQUFFckIsT0FBT3VCLE1BQU07UUFFL0MsSUFBSWxCLFdBQVdBLFFBQVF0SCxTQUFTLEVBQUU7WUFDaEMsTUFBTTJJLGVBQWUsSUFBSWhNLGlFQUFZQSxDQUFDeUw7WUFFdEMsS0FBSyxNQUFNcEksYUFBYXNILFFBQVF0SCxTQUFTLENBQUU7Z0JBQ3pDMkksYUFBYUMsY0FBYyxDQUFDNUksV0FBV3ZELG1FQUFjQSxDQUFDb00sZ0JBQWdCLEVBQUU7b0JBQ3RFQyxPQUFPO29CQUNQQyxXQUFXO2dCQUNiO2dCQUNBSixhQUFhbkIsYUFBYSxDQUFDeEgsV0FBVztvQkFDcEM4SSxPQUFPO29CQUNQQyxXQUFXO29CQUNYQyxRQUFRO2dCQUNWO1lBQ0Y7UUFDRjtJQUNGLEdBQUcsRUFBRTtJQUVMLGtCQUFrQjtJQUNsQixNQUFNQyxpQkFBaUI5TSxrREFBV0EsQ0FBQztRQUNqQyxJQUFJO1lBQ0YsTUFBTStNLFNBQVMsTUFBTUMsVUFBVUMsWUFBWSxDQUFDQyxZQUFZLENBQUM7Z0JBQ3ZEckMsT0FBTztvQkFDTHNCLE9BQU87b0JBQ1BFLFFBQVE7b0JBQ1JjLFlBQVk7Z0JBQ2Q7WUFDRjtZQUVBM0osVUFBVWEsT0FBTyxHQUFHMEk7WUFDcEIsSUFBSXpKLFNBQVNlLE9BQU8sRUFBRTtnQkFDcEJmLFNBQVNlLE9BQU8sQ0FBQytJLFNBQVMsR0FBR0w7WUFDL0I7WUFFQXJMLFlBQVk7WUFDWkUsZUFBZTtZQUVmZ0o7UUFDRixFQUFFLE9BQU85RixPQUFPO1lBQ2RGLFFBQVFFLEtBQUssQ0FBQywyQkFBMkJBO1lBQ3pDbEUsdURBQUtBLENBQUNrRSxLQUFLLENBQUM7UUFDZDtJQUNGLEdBQUc7UUFBQzhGO0tBQVk7SUFFaEIsaUJBQWlCO0lBQ2pCLE1BQU15QyxnQkFBZ0JyTixrREFBV0EsQ0FBQztRQUNoQyxJQUFJd0QsVUFBVWEsT0FBTyxFQUFFO1lBQ3JCYixVQUFVYSxPQUFPLENBQUNpSixTQUFTLEdBQUdDLE9BQU8sQ0FBQ0MsQ0FBQUEsUUFBU0EsTUFBTTdDLElBQUk7WUFDekRuSCxVQUFVYSxPQUFPLEdBQUc7UUFDdEI7UUFFQSxJQUFJWixhQUFhWSxPQUFPLEVBQUU7WUFDeEJvSixxQkFBcUJoSyxhQUFhWSxPQUFPO1FBQzNDO1FBRUEsSUFBSU4saUJBQWlCTSxPQUFPLElBQUlOLGlCQUFpQk0sT0FBTyxDQUFDcUosS0FBSyxLQUFLLFlBQVk7WUFDN0UzSixpQkFBaUJNLE9BQU8sQ0FBQ3NHLElBQUk7UUFDL0I7UUFFQWpKLFlBQVk7UUFDWkUsZUFBZTtRQUNmRSxrQkFBa0I7UUFDbEJFLGNBQWM7UUFDZEUsb0JBQW9CO0lBQ3RCLEdBQUcsRUFBRTtJQUVMLDZCQUE2QjtJQUM3QixNQUFNeUwsMkJBQTJCM04sa0RBQVdBLENBQUM7UUFDM0MsSUFBSSxDQUFDdUMsWUFBWTtZQUNmM0IsdURBQUtBLENBQUNrRSxLQUFLLENBQUM7WUFDWjtRQUNGO1FBRUEsSUFBSWxCLGtCQUFrQlMsT0FBTyxDQUFDUixTQUFTLENBQUN5QixNQUFNLEdBQUduRSxZQUFZO1lBQzNEUCx1REFBS0EsQ0FBQ2tFLEtBQUssQ0FBQztZQUNaO1FBQ0Y7UUFFQTFDLHFCQUFxQjtRQUVyQixJQUFJO1lBQ0YsTUFBTXVHLGFBQWEsTUFBTVU7WUFDekIsTUFBTUQsU0FBUyxNQUFNVixhQUNuQkMsWUFDQS9FLGtCQUFrQlMsT0FBTyxDQUFDUixTQUFTLENBQUN3RCxLQUFLLENBQUMsQ0FBQ2xHLGFBQzNDO2dCQUNFeUssV0FBV1osWUFBWUMsR0FBRztnQkFDMUJZLFlBQVloSyxrQkFBa0IrTDtnQkFDOUI5QixpQkFBaUIvSjtZQUNuQjtZQUdGLElBQUlxSCxRQUFRO2dCQUNWeEksdURBQUtBLENBQUNpTixPQUFPLENBQUMsa0JBQW1DLE9BQWpCekUsT0FBT1gsS0FBSyxFQUFDLE1BQXlDLE9BQXJDLENBQUNXLE9BQU9ySCxVQUFVLEdBQUcsR0FBRSxFQUFHK0wsT0FBTyxDQUFDLElBQUc7Z0JBRXRGLElBQUkxRSxPQUFPckgsVUFBVSxHQUFHQSxZQUFZO29CQUNsQ0Qsa0JBQWtCc0gsT0FBT1gsS0FBSztvQkFDOUJ6RyxjQUFjb0gsT0FBT3JILFVBQVU7b0JBQy9CRyxvQkFBb0I7b0JBRXBCLElBQUlqQixXQUFXO3dCQUNiQSxVQUFVbUksT0FBT1gsS0FBSyxFQUFFVyxPQUFPckgsVUFBVSxFQUFFO29CQUM3QztnQkFDRjtZQUNGO1FBQ0YsRUFBRSxPQUFPK0MsT0FBTztZQUNkRixRQUFRRSxLQUFLLENBQUMsK0JBQStCQTtRQUMvQyxTQUFVO1lBQ1IxQyxxQkFBcUI7UUFDdkI7SUFDRixHQUFHO1FBQUNHO1FBQVlwQjtRQUFZVTtRQUFnQkU7UUFBWXNIO1FBQWFYO1FBQWN6SDtRQUFXRztLQUFvQjtJQUVsSHRCLGdEQUFTQSxDQUFDO1FBQ1IsSUFBSTZCLGFBQWE7WUFDZmlKO1FBQ0Y7UUFFQSxPQUFPO1lBQ0wsSUFBSW5ILGFBQWFZLE9BQU8sRUFBRTtnQkFDeEJvSixxQkFBcUJoSyxhQUFhWSxPQUFPO1lBQzNDO1FBQ0Y7SUFDRixHQUFHO1FBQUMxQztRQUFhaUo7S0FBWTtJQUU3QixNQUFNbUQsa0JBQWtCO1FBQ3RCLElBQUlwTSxhQUFhO1lBQ2YwTDtRQUNGLE9BQU87WUFDTFA7UUFDRjtJQUNGO0lBRUEscUJBQ0UsOERBQUNrQjtRQUFJQyxXQUFVOztZQUVaNU0sd0JBQXdCLENBQUNrQiw0QkFDeEIsOERBQUN0QyxpREFBTUEsQ0FBQytOLEdBQUc7Z0JBQ1RFLFNBQVM7b0JBQUVDLFNBQVM7Z0JBQUU7Z0JBQ3RCQyxTQUFTO29CQUFFRCxTQUFTO2dCQUFFO2dCQUN0QkYsV0FBVTs7a0NBRVYsOERBQUNJO3dCQUFFSixXQUFVO2tDQUEwQjs7Ozs7O2tDQUd2Qyw4REFBQ0Q7d0JBQUlDLFdBQVU7OzBDQUNiLDhEQUFDSztnQ0FDQ0MsU0FBUyxJQUFNL0wsY0FBYztnQ0FDN0J5TCxXQUFVOzBDQUNYOzs7Ozs7MENBR0QsOERBQUNLO2dDQUNDQyxTQUFTLElBQU0vTCxjQUFjO2dDQUM3QnlMLFdBQVU7MENBQ1g7Ozs7Ozs7Ozs7Ozs7Ozs7OzswQkFRUCw4REFBQ2hPLGlEQUFNQSxDQUFDK04sR0FBRztnQkFDVEUsU0FBUztvQkFBRUMsU0FBUztvQkFBR2hILEdBQUcsQ0FBQztnQkFBRztnQkFDOUJpSCxTQUFTO29CQUFFRCxTQUFTO29CQUFHaEgsR0FBRztnQkFBRTtnQkFDNUI4RyxXQUFVOztrQ0FFViw4REFBQ0Q7d0JBQUlDLFdBQVU7OzBDQUNiLDhEQUFDRDtnQ0FBSUMsV0FBVTs7a0RBQ2IsOERBQUNEO3dDQUFJQyxXQUFXLHdCQUVmLE9BREN0TSxjQUFjLCtCQUErQjs7Ozs7O2tEQUUvQyw4REFBQzZNO3dDQUFLUCxXQUFVO2tEQUNidE0sY0FBYyxjQUFjOzs7Ozs7b0NBRTlCRSxnQ0FDQzs7MERBQ0UsOERBQUMyTTtnREFBS1AsV0FBVTswREFBd0I7Ozs7OzswREFDeEMsOERBQUNPO2dEQUFLUCxXQUFVOzBEQUF1Q3BNOzs7Ozs7MERBQ3ZELDhEQUFDMk07Z0RBQUtQLFdBQVcsV0FBaUYsT0FBdEVoTSxxQkFBcUIsV0FBVyxvQkFBb0I7O29EQUM3RTJFLEtBQUs2SCxLQUFLLENBQUMxTSxhQUFhO29EQUFLO29EQUFHRSxxQkFBcUIsWUFBWTs7Ozs7Ozs7Ozs7Ozs7OzBDQUsxRSw4REFBQytMO2dDQUFJQyxXQUFVOztvQ0FDWnRNLGVBQWVOLHdCQUF3QmtCLDRCQUN0Qyw4REFBQytMO3dDQUNDQyxTQUFTWjt3Q0FDVGUsVUFBVXZNO3dDQUNWOEwsV0FBVTt3Q0FDVlUsT0FBTTtrREFFTiw0RUFBQ3RPLHVHQUFNQTs0Q0FBQzROLFdBQVU7Ozs7Ozs7Ozs7O2tEQUd0Qiw4REFBQ0s7d0NBQ0NDLFNBQVNSO3dDQUNURSxXQUFVO2tEQUVUdE0sNEJBQWMsOERBQUN2Qix1R0FBTUE7NENBQUM2TixXQUFVOzs7OztpRUFBZSw4REFBQzlOLHVHQUFHQTs0Q0FBQzhOLFdBQVU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O29CQUlwRTlMLG1DQUNDLDhEQUFDNkw7d0JBQUlDLFdBQVU7OzBDQUNiLDhEQUFDL04sdUdBQVFBO2dDQUFDK04sV0FBVTs7Ozs7OzRCQUF5Qjs7Ozs7Ozs7Ozs7OzswQkFPbkQsOERBQUNEO2dCQUFJQyxXQUFVOztrQ0FDYiw4REFBQ3BEO3dCQUNDK0QsS0FBS3RMO3dCQUNMMkssV0FBVTt3QkFDVlksUUFBUTt3QkFDUkMsV0FBVzt3QkFDWEMsS0FBSzs7Ozs7O2tDQUVQLDhEQUFDakU7d0JBQ0M4RCxLQUFLckw7d0JBQ0wwSyxXQUFVOzs7Ozs7Ozs7Ozs7MEJBS2QsOERBQUNEO2dCQUFJQyxXQUFVOztvQkFDWixDQUFDNUwsMkJBQ0EsOERBQUMyTDt3QkFBSUMsV0FBVTtrQ0FBa0I7Ozs7OztvQkFFbEM1TCwyQkFBYSw4REFBQzJMO2tDQUFJOzs7Ozs7b0JBQ2xCekwsNEJBQWMsOERBQUN5TDtrQ0FBSTs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBSTVCO0dBN29Cd0JoTjs7UUFZTEgsc0RBQU9BOzs7S0FaRkciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vY29tcG9uZW50cy9NZWRpYVBpcGVTaWduRGV0ZWN0b3IudHN4PzQ5MjQiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnXG5cbmltcG9ydCBSZWFjdCwgeyB1c2VSZWYsIHVzZUVmZmVjdCwgdXNlU3RhdGUsIHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBtb3Rpb24gfSBmcm9tICdmcmFtZXItbW90aW9uJ1xuaW1wb3J0IHsgQWN0aXZpdHksIEV5ZSwgRXllT2ZmLCBTZW5kLCBTZXJ2ZXIgfSBmcm9tICdsdWNpZGUtcmVhY3QnXG5pbXBvcnQgeyBIYW5kTGFuZG1hcmtlciwgRmlsZXNldFJlc29sdmVyLCBEcmF3aW5nVXRpbHMgfSBmcm9tICdAbWVkaWFwaXBlL3Rhc2tzLXZpc2lvbidcbmltcG9ydCAqIGFzIHRmIGZyb20gJ0B0ZW5zb3JmbG93L3RmanMnXG5pbXBvcnQgeyBsb2FkVEZKU01vZGVsIH0gZnJvbSAnQC9saWIvdGZqc0NsaWVudCdcbmltcG9ydCB7IGZ1c2VQcmVkaWN0aW9ucyB9IGZyb20gJ0AvbGliL2Z1c2lvbidcbmltcG9ydCB0b2FzdCBmcm9tICdyZWFjdC1ob3QtdG9hc3QnXG5pbXBvcnQgeyB1c2VBdXRoIH0gZnJvbSAnQC9saWIvYXV0aC1jb250ZXh0J1xuaW1wb3J0IHtcbiAgbm9ybWFsaXplTGFuZG1hcmtzIGFzIG5vcm1hbGl6ZUxhbmRtYXJrc1V0aWwsXG4gIG1hdGNoQWxwaGFiZXQsXG4gIG1hdGNoU2VudGVuY2UsXG4gIGhhc01vdmVtZW50LFxuICBsb2FkQWxwaGFiZXRUZW1wbGF0ZXMsXG4gIGxvYWRTZW50ZW5jZVRlbXBsYXRlcyxcbiAgTWF0Y2hSZXN1bHQsXG4gIEFscGhhYmV0VGVtcGxhdGUsXG4gIFNlbnRlbmNlVGVtcGxhdGVcbn0gZnJvbSAnQC9saWIvdGVtcGxhdGVNYXRjaGluZydcblxuaW50ZXJmYWNlIE1lZGlhUGlwZVNpZ25EZXRlY3RvclByb3BzIHtcbiAgb25DYXB0aW9uPzogKHRleHQ6IHN0cmluZywgY29uZmlkZW5jZTogbnVtYmVyLCBzb3VyY2U6ICd0ZW1wbGF0ZScgfCAndGZqcycgfCAnc2VydmVyJykgPT4gdm9pZFxuICBvcHRpb25zPzoge1xuICAgIHdpbmRvd1NpemU/OiBudW1iZXJcbiAgICBjb25maWRlbmNlVGhyZXNob2xkPzogbnVtYmVyXG4gICAgZW5hYmxlU2VydmVyRmFsbGJhY2s/OiBib29sZWFuXG4gICAgYXV0b1NlbmRUb1NlcnZlcj86IGJvb2xlYW5cbiAgICBlbmFibGVUZW1wbGF0ZXM/OiBib29sZWFuXG4gIH1cbn1cblxuaW50ZXJmYWNlIExhbmRtYXJrQnVmZmVyIHtcbiAgbGFuZG1hcmtzOiBudW1iZXJbXVtdXG4gIHRpbWVzdGFtcHM6IG51bWJlcltdXG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIE1lZGlhUGlwZVNpZ25EZXRlY3Rvcih7XG4gIG9uQ2FwdGlvbixcbiAgb3B0aW9ucyA9IHt9XG59OiBNZWRpYVBpcGVTaWduRGV0ZWN0b3JQcm9wcykge1xuICBjb25zdCB7XG4gICAgd2luZG93U2l6ZSA9IDMyLFxuICAgIGNvbmZpZGVuY2VUaHJlc2hvbGQgPSAwLjg1LFxuICAgIGVuYWJsZVNlcnZlckZhbGxiYWNrID0gdHJ1ZSxcbiAgICBhdXRvU2VuZFRvU2VydmVyID0gdHJ1ZSxcbiAgICBlbmFibGVUZW1wbGF0ZXMgPSB0cnVlXG4gIH0gPSBvcHRpb25zXG5cbiAgY29uc3QgeyB1c2VyIH0gPSB1c2VBdXRoKClcbiAgY29uc3QgW2lzQWN0aXZlLCBzZXRJc0FjdGl2ZV0gPSB1c2VTdGF0ZShmYWxzZSlcbiAgY29uc3QgW2lzRGV0ZWN0aW5nLCBzZXRJc0RldGVjdGluZ10gPSB1c2VTdGF0ZShmYWxzZSlcbiAgY29uc3QgW2N1cnJlbnRDYXB0aW9uLCBzZXRDdXJyZW50Q2FwdGlvbl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKVxuICBjb25zdCBbY29uZmlkZW5jZSwgc2V0Q29uZmlkZW5jZV0gPSB1c2VTdGF0ZSgwKVxuICBjb25zdCBbcHJlZGljdGlvblNvdXJjZSwgc2V0UHJlZGljdGlvblNvdXJjZV0gPSB1c2VTdGF0ZTwndGVtcGxhdGUnIHwgJ3RmanMnIHwgJ3NlcnZlcicgfCBudWxsPihudWxsKVxuICBjb25zdCBbaXNTZW5kaW5nVG9TZXJ2ZXIsIHNldElzU2VuZGluZ1RvU2VydmVyXSA9IHVzZVN0YXRlKGZhbHNlKVxuICBjb25zdCBbdGZqc01vZGVsLCBzZXRUZmpzTW9kZWxdID0gdXNlU3RhdGU8dGYuTGF5ZXJzTW9kZWwgfCBudWxsPihudWxsKVxuICBjb25zdCBbaGFzQ29uc2VudCwgc2V0SGFzQ29uc2VudF0gPSB1c2VTdGF0ZShmYWxzZSlcbiAgY29uc3QgW3NlcnZlck1vZGVsQXZhaWxhYmxlLCBzZXRTZXJ2ZXJNb2RlbEF2YWlsYWJsZV0gPSB1c2VTdGF0ZTxib29sZWFuIHwgbnVsbD4obnVsbClcbiAgY29uc3QgW2NsYXNzTmFtZXMsIHNldENsYXNzTmFtZXNdID0gdXNlU3RhdGU8c3RyaW5nW10+KFtdKVxuICBjb25zdCBbYWxwaGFiZXRUZW1wbGF0ZXMsIHNldEFscGhhYmV0VGVtcGxhdGVzXSA9IHVzZVN0YXRlPFJlY29yZDxzdHJpbmcsIEFscGhhYmV0VGVtcGxhdGU+Pih7fSlcbiAgY29uc3QgW3NlbnRlbmNlVGVtcGxhdGVzLCBzZXRTZW50ZW5jZVRlbXBsYXRlc10gPSB1c2VTdGF0ZTxSZWNvcmQ8c3RyaW5nLCBTZW50ZW5jZVRlbXBsYXRlPj4oe30pXG4gIGNvbnN0IFt0ZW1wbGF0ZXNMb2FkZWQsIHNldFRlbXBsYXRlc0xvYWRlZF0gPSB1c2VTdGF0ZShmYWxzZSlcbiAgY29uc3QgYWxwaGFiZXRTdGFibGVGcmFtZXNSZWYgPSB1c2VSZWY8TWFwPHN0cmluZywgbnVtYmVyPj4obmV3IE1hcCgpKVxuICBjb25zdCBsYXN0QWxwaGFiZXRNYXRjaFJlZiA9IHVzZVJlZjxNYXRjaFJlc3VsdCB8IG51bGw+KG51bGwpXG5cbiAgY29uc3QgdmlkZW9SZWYgPSB1c2VSZWY8SFRNTFZpZGVvRWxlbWVudD4obnVsbClcbiAgY29uc3QgY2FudmFzUmVmID0gdXNlUmVmPEhUTUxDYW52YXNFbGVtZW50PihudWxsKVxuICBjb25zdCBzdHJlYW1SZWYgPSB1c2VSZWY8TWVkaWFTdHJlYW0gfCBudWxsPihudWxsKVxuICBjb25zdCBhbmltYXRpb25SZWYgPSB1c2VSZWY8bnVtYmVyPigpXG4gIGNvbnN0IGhhbmRMYW5kbWFya2VyUmVmID0gdXNlUmVmPEhhbmRMYW5kbWFya2VyIHwgbnVsbD4obnVsbClcbiAgY29uc3QgbGFzdFZpZGVvVGltZVJlZiA9IHVzZVJlZigtMSlcbiAgY29uc3QgbGFuZG1hcmtCdWZmZXJSZWYgPSB1c2VSZWY8TGFuZG1hcmtCdWZmZXI+KHtcbiAgICBsYW5kbWFya3M6IFtdLFxuICAgIHRpbWVzdGFtcHM6IFtdXG4gIH0pXG4gIGNvbnN0IG1lZGlhUmVjb3JkZXJSZWYgPSB1c2VSZWY8TWVkaWFSZWNvcmRlciB8IG51bGw+KG51bGwpXG4gIGNvbnN0IHJlY29yZGVkQ2h1bmtzUmVmID0gdXNlUmVmPEJsb2JbXT4oW10pXG4gIGNvbnN0IGxhc3RQcmVkaWN0aW9uVGltZVJlZiA9IHVzZVJlZigwKVxuXG4gIC8vIEluaXRpYWxpemUgTWVkaWFQaXBlIEhhbmQgTGFuZG1hcmtlclxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGluaXRpYWxpemVIYW5kTGFuZG1hcmtlciA9IGFzeW5jICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHZpc2lvbiA9IGF3YWl0IEZpbGVzZXRSZXNvbHZlci5mb3JWaXNpb25UYXNrcyhcbiAgICAgICAgICBcImh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9ucG0vQG1lZGlhcGlwZS90YXNrcy12aXNpb25AMC4xMC44L3dhc21cIlxuICAgICAgICApXG4gICAgICAgIFxuICAgICAgICBoYW5kTGFuZG1hcmtlclJlZi5jdXJyZW50ID0gYXdhaXQgSGFuZExhbmRtYXJrZXIuY3JlYXRlRnJvbU9wdGlvbnModmlzaW9uLCB7XG4gICAgICAgICAgYmFzZU9wdGlvbnM6IHtcbiAgICAgICAgICAgIG1vZGVsQXNzZXRQYXRoOiAnaHR0cHM6Ly9zdG9yYWdlLmdvb2dsZWFwaXMuY29tL21lZGlhcGlwZS1tb2RlbHMvaGFuZF9sYW5kbWFya2VyL2hhbmRfbGFuZG1hcmtlci9mbG9hdDE2LzEvaGFuZF9sYW5kbWFya2VyLnRhc2snLFxuICAgICAgICAgICAgZGVsZWdhdGU6IFwiR1BVXCJcbiAgICAgICAgICB9LFxuICAgICAgICAgIHJ1bm5pbmdNb2RlOiBcIlZJREVPXCIsXG4gICAgICAgICAgbnVtSGFuZHM6IDJcbiAgICAgICAgfSlcbiAgICAgICAgXG4gICAgICAgIGNvbnNvbGUubG9nKCfinIUgTWVkaWFQaXBlIEhhbmQgTGFuZG1hcmtlciBpbml0aWFsaXplZCcpXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgRXJyb3IgaW5pdGlhbGl6aW5nIE1lZGlhUGlwZTonLCBlcnJvcilcbiAgICAgICAgdG9hc3QuZXJyb3IoJ0ZhaWxlZCB0byBpbml0aWFsaXplIGhhbmQgZGV0ZWN0b3InKVxuICAgICAgfVxuICAgIH1cblxuICAgIGluaXRpYWxpemVIYW5kTGFuZG1hcmtlcigpXG4gIH0sIFtdKVxuXG4gIC8vIExvYWQgdGVtcGxhdGVzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFlbmFibGVUZW1wbGF0ZXMpIHJldHVyblxuICAgIFxuICAgIGNvbnN0IGxvYWRUZW1wbGF0ZXMgPSBhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBbYWxwaGFiZXRzLCBzZW50ZW5jZXNdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgICAgIGxvYWRBbHBoYWJldFRlbXBsYXRlcygpLFxuICAgICAgICAgIGxvYWRTZW50ZW5jZVRlbXBsYXRlcygpXG4gICAgICAgIF0pXG4gICAgICAgIFxuICAgICAgICBzZXRBbHBoYWJldFRlbXBsYXRlcyhhbHBoYWJldHMpXG4gICAgICAgIHNldFNlbnRlbmNlVGVtcGxhdGVzKHNlbnRlbmNlcylcbiAgICAgICAgc2V0VGVtcGxhdGVzTG9hZGVkKHRydWUpXG4gICAgICAgIGNvbnNvbGUubG9nKCfinIUgVGVtcGxhdGVzIGxvYWRlZDonLCBPYmplY3Qua2V5cyhhbHBoYWJldHMpLmxlbmd0aCwgJ2FscGhhYmV0cywnLCBPYmplY3Qua2V5cyhzZW50ZW5jZXMpLmxlbmd0aCwgJ3NlbnRlbmNlcycpXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgRXJyb3IgbG9hZGluZyB0ZW1wbGF0ZXM6JywgZXJyb3IpXG4gICAgICAgIHRvYXN0LmVycm9yKCdUZW1wbGF0ZXMgbm90IGZvdW5kLiBVc2luZyBURkpTL21vZGVsIG9ubHkuJylcbiAgICAgIH1cbiAgICB9XG5cbiAgICBsb2FkVGVtcGxhdGVzKClcbiAgfSwgW2VuYWJsZVRlbXBsYXRlc10pXG5cbiAgLy8gTG9hZCBURkpTIG1vZGVsXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgbG9hZE1vZGVsID0gYXN5bmMgKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgbW9kZWwgPSBhd2FpdCBsb2FkVEZKU01vZGVsKCcvbW9kZWxzL3RmanNfbGFuZG1hcmtfbW9kZWwvbW9kZWwuanNvbicpXG4gICAgICAgIHNldFRmanNNb2RlbChtb2RlbClcbiAgICAgICAgXG4gICAgICAgIC8vIFRyeSB0byBsb2FkIGNsYXNzIG5hbWVzXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL21vZGVscy90ZmpzX2xhbmRtYXJrX21vZGVsL2NsYXNzX25hbWVzLmpzb24nKVxuICAgICAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgY29uc3QgbmFtZXMgPSBhd2FpdCByZXNwb25zZS5qc29uKClcbiAgICAgICAgICAgIHNldENsYXNzTmFtZXMobmFtZXMpXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIERlZmF1bHQgY2xhc3MgbmFtZXNcbiAgICAgICAgICAgIHNldENsYXNzTmFtZXMoWydIZWxsbycsICdUaGFuayBZb3UnLCAnWWVzJywgJ05vJywgJ1BsZWFzZScsICdTb3JyeScsICdHb29kJywgJ0JhZCcsICdIZWxwJywgJ1dlbGNvbWUnXSlcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICBzZXRDbGFzc05hbWVzKFsnSGVsbG8nLCAnVGhhbmsgWW91JywgJ1llcycsICdObycsICdQbGVhc2UnLCAnU29ycnknLCAnR29vZCcsICdCYWQnLCAnSGVscCcsICdXZWxjb21lJ10pXG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGNvbnNvbGUubG9nKCfinIUgVEZKUyBtb2RlbCBsb2FkZWQnKVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIEVycm9yIGxvYWRpbmcgVEZKUyBtb2RlbDonLCBlcnJvcilcbiAgICAgICAgLy8gRG9uJ3Qgc2hvdyBlcnJvciB0b2FzdCAtIHRlbXBsYXRlcyBjYW4gd29yayB3aXRob3V0IFRGSlNcbiAgICAgIH1cbiAgICB9XG5cbiAgICBsb2FkTW9kZWwoKVxuICB9LCBbXSlcblxuICAvLyBDaGVjayBzZXJ2ZXIgbW9kZWwgYXZhaWxhYmlsaXR5XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgY2hlY2tTZXJ2ZXJNb2RlbCA9IGFzeW5jICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmICghdXNlcikgcmV0dXJuXG4gICAgICAgIFxuICAgICAgICBjb25zdCBpZFRva2VuID0gYXdhaXQgdXNlci5nZXRJZFRva2VuKClcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9pbmZlci9zdGF0dXMnLCB7XG4gICAgICAgICAgaGVhZGVyczogeyBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7aWRUb2tlbn1gIH1cbiAgICAgICAgfSlcbiAgICAgICAgXG4gICAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKClcbiAgICAgICAgICBzZXRTZXJ2ZXJNb2RlbEF2YWlsYWJsZShkYXRhLm1vZGVsQXZhaWxhYmxlID09PSB0cnVlKVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLndhcm4oJ0NvdWxkIG5vdCBjaGVjayBzZXJ2ZXIgbW9kZWwgc3RhdHVzOicsIGVycm9yKVxuICAgICAgICBzZXRTZXJ2ZXJNb2RlbEF2YWlsYWJsZShudWxsKVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh1c2VyICYmIGVuYWJsZVNlcnZlckZhbGxiYWNrKSB7XG4gICAgICBjaGVja1NlcnZlck1vZGVsKClcbiAgICB9XG4gIH0sIFt1c2VyLCBlbmFibGVTZXJ2ZXJGYWxsYmFja10pXG5cbiAgLy8gTG9hZCBjb25zZW50IGZyb20gcHJvZmlsZS9sb2NhbFN0b3JhZ2VcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbnN0IHYgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYWxsb3dMb3dDb25maWRlbmNlU2F2ZXMnKSA9PT0gJ3RydWUnXG4gICAgICBzZXRIYXNDb25zZW50KHYpXG4gICAgfVxuICB9LCBbXSlcblxuICAvLyBOb3JtYWxpemUgbGFuZG1hcmtzIHRvIGZlYXR1cmUgdmVjdG9yXG4gIGNvbnN0IG5vcm1hbGl6ZUxhbmRtYXJrcyA9IHVzZUNhbGxiYWNrKChsYW5kbWFya3M6IGFueVtdKTogbnVtYmVyW10gPT4ge1xuICAgIGlmICghbGFuZG1hcmtzIHx8IGxhbmRtYXJrcy5sZW5ndGggPT09IDApIHJldHVybiBbXVxuICAgIFxuICAgIGNvbnN0IGZlYXR1cmVzOiBudW1iZXJbXSA9IFtdXG4gICAgY29uc3QgbnVtSGFuZHMgPSBNYXRoLm1pbihsYW5kbWFya3MubGVuZ3RoLCAyKVxuICAgIFxuICAgIGZvciAobGV0IGhhbmRJZHggPSAwOyBoYW5kSWR4IDwgbnVtSGFuZHM7IGhhbmRJZHgrKykge1xuICAgICAgY29uc3QgaGFuZCA9IGxhbmRtYXJrc1toYW5kSWR4XVxuICAgICAgaWYgKGhhbmQgJiYgaGFuZC5sZW5ndGggPj0gMjEpIHtcbiAgICAgICAgLy8gRXh0cmFjdCAyMSBsYW5kbWFya3MgKiAzICh4LCB5LCB6KSA9IDYzIGZlYXR1cmVzIHBlciBoYW5kXG4gICAgICAgIGZvciAoY29uc3QgcG9pbnQgb2YgaGFuZCkge1xuICAgICAgICAgIGZlYXR1cmVzLnB1c2gocG9pbnQueCwgcG9pbnQueSwgcG9pbnQueiB8fCAwKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIC8vIFBhZCB0byAyIGhhbmRzICogMjEgKiAzID0gMTI2IGZlYXR1cmVzXG4gICAgd2hpbGUgKGZlYXR1cmVzLmxlbmd0aCA8IDEyNikge1xuICAgICAgZmVhdHVyZXMucHVzaCgwLCAwLCAwKVxuICAgIH1cbiAgICBcbiAgICByZXR1cm4gZmVhdHVyZXMuc2xpY2UoMCwgMTI2KVxuICB9LCBbXSlcblxuICAvLyBQcmVkaWN0IHVzaW5nIFRGSlMgbW9kZWxcbiAgY29uc3QgcHJlZGljdFdpdGhURkpTID0gdXNlQ2FsbGJhY2soYXN5bmMgKGJ1ZmZlcjogbnVtYmVyW11bXSk6IFByb21pc2U8eyBsYWJlbDogc3RyaW5nOyBjb25maWRlbmNlOiBudW1iZXIgfSB8IG51bGw+ID0+IHtcbiAgICBpZiAoIXRmanNNb2RlbCB8fCBidWZmZXIubGVuZ3RoIDwgd2luZG93U2l6ZSkgcmV0dXJuIG51bGxcblxuICAgIHRyeSB7XG4gICAgICAvLyBQYWQgb3IgdHJpbSBidWZmZXIgdG8gd2luZG93U2l6ZVxuICAgICAgbGV0IHByb2Nlc3NlZEJ1ZmZlciA9IFsuLi5idWZmZXJdXG4gICAgICBpZiAocHJvY2Vzc2VkQnVmZmVyLmxlbmd0aCA+IHdpbmRvd1NpemUpIHtcbiAgICAgICAgcHJvY2Vzc2VkQnVmZmVyID0gcHJvY2Vzc2VkQnVmZmVyLnNsaWNlKC13aW5kb3dTaXplKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2hpbGUgKHByb2Nlc3NlZEJ1ZmZlci5sZW5ndGggPCB3aW5kb3dTaXplKSB7XG4gICAgICAgICAgcHJvY2Vzc2VkQnVmZmVyLnVuc2hpZnQobmV3IEFycmF5KDEyNikuZmlsbCgwKSlcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBDb252ZXJ0IHRvIHRlbnNvcjogWzEsIHdpbmRvd1NpemUsIGZlYXR1cmVzXVxuICAgICAgY29uc3QgdGVuc29yID0gdGYudGVuc29yM2QoW3Byb2Nlc3NlZEJ1ZmZlcl0pXG4gICAgICBjb25zdCBwcmVkaWN0aW9uID0gdGZqc01vZGVsLnByZWRpY3QodGVuc29yKSBhcyB0Zi5UZW5zb3JcblxuICAgICAgLy8gR2V0IGxhYmVsIGFuZCBjb25maWRlbmNlXG4gICAgICBjb25zdCBwcmVkaWN0aW9ucyA9IGF3YWl0IHByZWRpY3Rpb24uYXJyYXkoKVxuICAgICAgYXdhaXQgdGVuc29yLmRpc3Bvc2UoKVxuICAgICAgYXdhaXQgcHJlZGljdGlvbi5kaXNwb3NlKClcblxuICAgICAgY29uc3Qgc2NvcmVzID0gcHJlZGljdGlvbnNbMF0gYXMgbnVtYmVyW11cbiAgICAgIGNvbnN0IG1heElkeCA9IHNjb3Jlcy5pbmRleE9mKE1hdGgubWF4KC4uLnNjb3JlcykpXG4gICAgICBjb25zdCBjb25mID0gc2NvcmVzW21heElkeF1cblxuICAgICAgLy8gTWFwIGluZGV4IHRvIGxhYmVsIHVzaW5nIGxvYWRlZCBjbGFzcyBuYW1lcyBvciBkZWZhdWx0XG4gICAgICBjb25zdCBsYWJlbHMgPSBjbGFzc05hbWVzLmxlbmd0aCA+IDAgPyBjbGFzc05hbWVzIDogWydIZWxsbycsICdUaGFuayBZb3UnLCAnWWVzJywgJ05vJywgJ1BsZWFzZScsICdTb3JyeScsICdHb29kJywgJ0JhZCcsICdIZWxwJywgJ1dlbGNvbWUnXVxuICAgICAgY29uc3QgbGFiZWwgPSBsYWJlbHNbbWF4SWR4XSB8fCBgU2lnbl8ke21heElkeH1gXG5cbiAgICAgIHJldHVybiB7IGxhYmVsLCBjb25maWRlbmNlOiBjb25mIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignVEZKUyBwcmVkaWN0aW9uIGVycm9yOicsIGVycm9yKVxuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH0sIFt0ZmpzTW9kZWwsIHdpbmRvd1NpemVdKVxuXG4gIC8vIFNlbmQgY2xpcCB0byBzZXJ2ZXIgZm9yIGluZmVyZW5jZVxuICBjb25zdCBzZW5kVG9TZXJ2ZXIgPSB1c2VDYWxsYmFjayhhc3luYyAoXG4gICAgY2xpcEJhc2U2NDogc3RyaW5nLFxuICAgIGxhbmRtYXJrczogbnVtYmVyW11bXSxcbiAgICBtZXRhOiB7IHRpbWVzdGFtcDogbnVtYmVyOyBsb2NhbExhYmVsPzogc3RyaW5nOyBsb2NhbENvbmZpZGVuY2U/OiBudW1iZXIgfVxuICApID0+IHtcbiAgICBpZiAoIXVzZXIgfHwgIWVuYWJsZVNlcnZlckZhbGxiYWNrKSByZXR1cm4gbnVsbFxuXG4gICAgc2V0SXNTZW5kaW5nVG9TZXJ2ZXIodHJ1ZSlcbiAgICBcbiAgICB0cnkge1xuICAgICAgY29uc3QgaWRUb2tlbiA9IGF3YWl0IHVzZXIuZ2V0SWRUb2tlbigpXG4gICAgICBcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvaW5mZXInLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAnQXV0aG9yaXphdGlvbic6IGBCZWFyZXIgJHtpZFRva2VufWBcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIGNsaXBCYXNlNjQsXG4gICAgICAgICAgbGFuZG1hcmtzLFxuICAgICAgICAgIG1ldGE6IHsgLi4ubWV0YSwgY29uc2VudDogaGFzQ29uc2VudCB9XG4gICAgICAgIH0pXG4gICAgICB9KVxuXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgU2VydmVyIGluZmVyZW5jZSBmYWlsZWQ6ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH1gKVxuICAgICAgfVxuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKClcbiAgICAgIHJldHVybiByZXN1bHRcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignU2VydmVyIGluZmVyZW5jZSBlcnJvcjonLCBlcnJvcilcbiAgICAgIHRvYXN0LmVycm9yKCdTZXJ2ZXIgaW5mZXJlbmNlIGZhaWxlZCcpXG4gICAgICByZXR1cm4gbnVsbFxuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRJc1NlbmRpbmdUb1NlcnZlcihmYWxzZSlcbiAgICB9XG4gIH0sIFt1c2VyLCBlbmFibGVTZXJ2ZXJGYWxsYmFjaywgaGFzQ29uc2VudF0pXG5cbiAgLy8gQ2FwdHVyZSB2aWRlbyBjbGlwXG4gIGNvbnN0IGNhcHR1cmVDbGlwID0gdXNlQ2FsbGJhY2soYXN5bmMgKCk6IFByb21pc2U8c3RyaW5nPiA9PiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGlmICghc3RyZWFtUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignTm8gc3RyZWFtIGF2YWlsYWJsZScpKVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgcmVjb3JkZWRDaHVua3NSZWYuY3VycmVudCA9IFtdXG4gICAgICBcbiAgICAgIGNvbnN0IG1lZGlhUmVjb3JkZXIgPSBuZXcgTWVkaWFSZWNvcmRlcihzdHJlYW1SZWYuY3VycmVudCwge1xuICAgICAgICBtaW1lVHlwZTogJ3ZpZGVvL3dlYm07Y29kZWNzPXZwOCdcbiAgICAgIH0pXG4gICAgICBcbiAgICAgIG1lZGlhUmVjb3JkZXJSZWYuY3VycmVudCA9IG1lZGlhUmVjb3JkZXJcblxuICAgICAgbWVkaWFSZWNvcmRlci5vbmRhdGFhdmFpbGFibGUgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgaWYgKGV2ZW50LmRhdGEuc2l6ZSA+IDApIHtcbiAgICAgICAgICByZWNvcmRlZENodW5rc1JlZi5jdXJyZW50LnB1c2goZXZlbnQuZGF0YSlcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBtZWRpYVJlY29yZGVyLm9uc3RvcCA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgYmxvYiA9IG5ldyBCbG9iKHJlY29yZGVkQ2h1bmtzUmVmLmN1cnJlbnQsIHsgdHlwZTogJ3ZpZGVvL3dlYm0nIH0pXG4gICAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKClcbiAgICAgICAgcmVhZGVyLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgICBjb25zdCBiYXNlNjQgPSAocmVhZGVyLnJlc3VsdCBhcyBzdHJpbmcpLnNwbGl0KCcsJylbMV1cbiAgICAgICAgICByZXNvbHZlKGJhc2U2NClcbiAgICAgICAgfVxuICAgICAgICByZWFkZXIub25lcnJvciA9IHJlamVjdFxuICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChibG9iKVxuICAgICAgfVxuXG4gICAgICBtZWRpYVJlY29yZGVyLnN0YXJ0KClcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBtZWRpYVJlY29yZGVyLnN0b3AoKVxuICAgICAgfSwgMjUwMCkgLy8gMi41IHNlY29uZCBjbGlwXG4gICAgfSlcbiAgfSwgW10pXG5cbiAgLy8gTWFpbiBkZXRlY3Rpb24gbG9vcFxuICBjb25zdCBkZXRlY3RTaWducyA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBpZiAoIWlzRGV0ZWN0aW5nIHx8ICF2aWRlb1JlZi5jdXJyZW50IHx8ICFjYW52YXNSZWYuY3VycmVudCkgcmV0dXJuXG5cbiAgICBjb25zdCB2aWRlbyA9IHZpZGVvUmVmLmN1cnJlbnRcbiAgICBjb25zdCBjYW52YXMgPSBjYW52YXNSZWYuY3VycmVudFxuICAgIGNvbnN0IHN0YXJ0VGltZU1zID0gcGVyZm9ybWFuY2Uubm93KClcblxuICAgIGlmIChsYXN0VmlkZW9UaW1lUmVmLmN1cnJlbnQgIT09IHZpZGVvLmN1cnJlbnRUaW1lKSB7XG4gICAgICBsYXN0VmlkZW9UaW1lUmVmLmN1cnJlbnQgPSB2aWRlby5jdXJyZW50VGltZVxuXG4gICAgICBpZiAoaGFuZExhbmRtYXJrZXJSZWYuY3VycmVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHJlc3VsdHMgPSBoYW5kTGFuZG1hcmtlclJlZi5jdXJyZW50LmRldGVjdEZvclZpZGVvKHZpZGVvLCBzdGFydFRpbWVNcylcbiAgICAgICAgICBcbiAgICAgICAgICBkcmF3TGFuZG1hcmtzKHJlc3VsdHMpXG5cbiAgICAgICAgICBpZiAocmVzdWx0cy5sYW5kbWFya3MgJiYgcmVzdWx0cy5sYW5kbWFya3MubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgLy8gTm9ybWFsaXplIGFuZCBhZGQgdG8gYnVmZmVyXG4gICAgICAgICAgICBjb25zdCBub3JtYWxpemVkID0gbm9ybWFsaXplTGFuZG1hcmtzKHJlc3VsdHMubGFuZG1hcmtzKVxuICAgICAgICAgICAgbGFuZG1hcmtCdWZmZXJSZWYuY3VycmVudC5sYW5kbWFya3MucHVzaChub3JtYWxpemVkKVxuICAgICAgICAgICAgbGFuZG1hcmtCdWZmZXJSZWYuY3VycmVudC50aW1lc3RhbXBzLnB1c2goc3RhcnRUaW1lTXMpXG5cbiAgICAgICAgICAgIC8vIEtlZXAgYnVmZmVyIHNpemVcbiAgICAgICAgICAgIGlmIChsYW5kbWFya0J1ZmZlclJlZi5jdXJyZW50LmxhbmRtYXJrcy5sZW5ndGggPiB3aW5kb3dTaXplICogMikge1xuICAgICAgICAgICAgICBsYW5kbWFya0J1ZmZlclJlZi5jdXJyZW50LmxhbmRtYXJrcy5zaGlmdCgpXG4gICAgICAgICAgICAgIGxhbmRtYXJrQnVmZmVyUmVmLmN1cnJlbnQudGltZXN0YW1wcy5zaGlmdCgpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFByZWRpY3Qgd2hlbiBidWZmZXIgaXMgcmVhZHkgKHRocm90dGxlIHRvIH41SHopXG4gICAgICAgICAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpXG4gICAgICAgICAgICBpZiAobGFuZG1hcmtCdWZmZXJSZWYuY3VycmVudC5sYW5kbWFya3MubGVuZ3RoID49IHdpbmRvd1NpemUgJiYgXG4gICAgICAgICAgICAgICAgdGZqc01vZGVsICYmIFxuICAgICAgICAgICAgICAgIG5vdyAtIGxhc3RQcmVkaWN0aW9uVGltZVJlZi5jdXJyZW50ID4gMjAwKSB7XG4gICAgICAgICAgICAgIGxhc3RQcmVkaWN0aW9uVGltZVJlZi5jdXJyZW50ID0gbm93XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICBwcmVkaWN0V2l0aFRGSlMobGFuZG1hcmtCdWZmZXJSZWYuY3VycmVudC5sYW5kbWFya3MpLnRoZW4oYXN5bmMgKHByZWRpY3Rpb24pID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocHJlZGljdGlvbikge1xuICAgICAgICAgICAgICAgICAgY29uc3QgeyBsYWJlbCwgY29uZmlkZW5jZTogbG9jYWxDb25mIH0gPSBwcmVkaWN0aW9uXG5cbiAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHNlcnZlciBpbmZlcmVuY2UgbmVlZGVkXG4gICAgICAgICAgICAgICAgICBpZiAobG9jYWxDb25mIDwgY29uZmlkZW5jZVRocmVzaG9sZCAmJiBcbiAgICAgICAgICAgICAgICAgICAgICBhdXRvU2VuZFRvU2VydmVyICYmIFxuICAgICAgICAgICAgICAgICAgICAgIGhhc0NvbnNlbnQgJiYgXG4gICAgICAgICAgICAgICAgICAgICAgc2VydmVyTW9kZWxBdmFpbGFibGUgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIENhcHR1cmUgY2xpcCBhbmQgc2VuZCB0byBzZXJ2ZXJcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjbGlwQmFzZTY0ID0gYXdhaXQgY2FwdHVyZUNsaXAoKVxuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlcnZlclJlc3VsdCA9IGF3YWl0IHNlbmRUb1NlcnZlcihcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsaXBCYXNlNjQsXG4gICAgICAgICAgICAgICAgICAgICAgICBsYW5kbWFya0J1ZmZlclJlZi5jdXJyZW50LmxhbmRtYXJrcy5zbGljZSgtd2luZG93U2l6ZSksXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogc3RhcnRUaW1lTXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsTGFiZWw6IGxhYmVsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbENvbmZpZGVuY2U6IGxvY2FsQ29uZlxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIClcblxuICAgICAgICAgICAgICAgICAgICAgIGlmIChzZXJ2ZXJSZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZ1c2UgcHJlZGljdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZ1c2VkID0gZnVzZVByZWRpY3Rpb25zKFxuICAgICAgICAgICAgICAgICAgICAgICAgICB7IGxhYmVsLCBjb25maWRlbmNlOiBsb2NhbENvbmYgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2VydmVyUmVzdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICApXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHNldEN1cnJlbnRDYXB0aW9uKGZ1c2VkLmxhYmVsKVxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q29uZmlkZW5jZShmdXNlZC5jb25maWRlbmNlKVxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0UHJlZGljdGlvblNvdXJjZSgnc2VydmVyJylcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9uQ2FwdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNhcHRpb24oZnVzZWQubGFiZWwsIGZ1c2VkLmNvbmZpZGVuY2UsICdzZXJ2ZXInKVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdTZXJ2ZXIgaW5mZXJlbmNlIHBpcGVsaW5lIGVycm9yOicsIGVycm9yKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBVc2UgbG9jYWwgcHJlZGljdGlvblxuICAgICAgICAgICAgICAgICAgICBzZXRDdXJyZW50Q2FwdGlvbihsYWJlbClcbiAgICAgICAgICAgICAgICAgICAgc2V0Q29uZmlkZW5jZShsb2NhbENvbmYpXG4gICAgICAgICAgICAgICAgICAgIHNldFByZWRpY3Rpb25Tb3VyY2UoJ2xvY2FsJylcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGlmIChvbkNhcHRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICBvbkNhcHRpb24obGFiZWwsIGxvY2FsQ29uZiwgJ2xvY2FsJylcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignRGV0ZWN0aW9uIGVycm9yOicsIGVycm9yKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgYW5pbWF0aW9uUmVmLmN1cnJlbnQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZGV0ZWN0U2lnbnMpXG4gIH0sIFtpc0RldGVjdGluZywgdGZqc01vZGVsLCB3aW5kb3dTaXplLCBub3JtYWxpemVMYW5kbWFya3MsIHByZWRpY3RXaXRoVEZKUywgY29uZmlkZW5jZVRocmVzaG9sZCwgYXV0b1NlbmRUb1NlcnZlciwgaGFzQ29uc2VudCwgY2FwdHVyZUNsaXAsIHNlbmRUb1NlcnZlciwgb25DYXB0aW9uXSlcblxuICAvLyBEcmF3IGxhbmRtYXJrc1xuICBjb25zdCBkcmF3TGFuZG1hcmtzID0gdXNlQ2FsbGJhY2soKHJlc3VsdHM/OiBhbnkpID0+IHtcbiAgICBjb25zdCBjYW52YXMgPSBjYW52YXNSZWYuY3VycmVudFxuICAgIGNvbnN0IHZpZGVvID0gdmlkZW9SZWYuY3VycmVudFxuICAgIFxuICAgIGlmICghY2FudmFzIHx8ICF2aWRlbykgcmV0dXJuXG5cbiAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKVxuICAgIGlmICghY3R4KSByZXR1cm5cblxuICAgIGNhbnZhcy53aWR0aCA9IHZpZGVvLnZpZGVvV2lkdGhcbiAgICBjYW52YXMuaGVpZ2h0ID0gdmlkZW8udmlkZW9IZWlnaHRcbiAgICBjdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodClcblxuICAgIGlmIChyZXN1bHRzICYmIHJlc3VsdHMubGFuZG1hcmtzKSB7XG4gICAgICBjb25zdCBkcmF3aW5nVXRpbHMgPSBuZXcgRHJhd2luZ1V0aWxzKGN0eClcbiAgICAgIFxuICAgICAgZm9yIChjb25zdCBsYW5kbWFya3Mgb2YgcmVzdWx0cy5sYW5kbWFya3MpIHtcbiAgICAgICAgZHJhd2luZ1V0aWxzLmRyYXdDb25uZWN0b3JzKGxhbmRtYXJrcywgSGFuZExhbmRtYXJrZXIuSEFORF9DT05ORUNUSU9OUywge1xuICAgICAgICAgIGNvbG9yOiBcIiMwMEZGMDBcIixcbiAgICAgICAgICBsaW5lV2lkdGg6IDJcbiAgICAgICAgfSlcbiAgICAgICAgZHJhd2luZ1V0aWxzLmRyYXdMYW5kbWFya3MobGFuZG1hcmtzLCB7XG4gICAgICAgICAgY29sb3I6IFwiI0ZGMDAwMFwiLFxuICAgICAgICAgIGxpbmVXaWR0aDogMSxcbiAgICAgICAgICByYWRpdXM6IDNcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9XG4gIH0sIFtdKVxuXG4gIC8vIFN0YXJ0IGRldGVjdGlvblxuICBjb25zdCBzdGFydERldGVjdGlvbiA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3Qgc3RyZWFtID0gYXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoe1xuICAgICAgICB2aWRlbzogeyBcbiAgICAgICAgICB3aWR0aDogNjQwLCBcbiAgICAgICAgICBoZWlnaHQ6IDQ4MCxcbiAgICAgICAgICBmYWNpbmdNb2RlOiAndXNlcidcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIFxuICAgICAgc3RyZWFtUmVmLmN1cnJlbnQgPSBzdHJlYW1cbiAgICAgIGlmICh2aWRlb1JlZi5jdXJyZW50KSB7XG4gICAgICAgIHZpZGVvUmVmLmN1cnJlbnQuc3JjT2JqZWN0ID0gc3RyZWFtXG4gICAgICB9XG4gICAgICBcbiAgICAgIHNldElzQWN0aXZlKHRydWUpXG4gICAgICBzZXRJc0RldGVjdGluZyh0cnVlKVxuICAgICAgXG4gICAgICBkZXRlY3RTaWducygpXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGFjY2Vzc2luZyBjYW1lcmE6JywgZXJyb3IpXG4gICAgICB0b2FzdC5lcnJvcignRmFpbGVkIHRvIGFjY2VzcyBjYW1lcmEnKVxuICAgIH1cbiAgfSwgW2RldGVjdFNpZ25zXSlcblxuICAvLyBTdG9wIGRldGVjdGlvblxuICBjb25zdCBzdG9wRGV0ZWN0aW9uID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGlmIChzdHJlYW1SZWYuY3VycmVudCkge1xuICAgICAgc3RyZWFtUmVmLmN1cnJlbnQuZ2V0VHJhY2tzKCkuZm9yRWFjaCh0cmFjayA9PiB0cmFjay5zdG9wKCkpXG4gICAgICBzdHJlYW1SZWYuY3VycmVudCA9IG51bGxcbiAgICB9XG4gICAgXG4gICAgaWYgKGFuaW1hdGlvblJlZi5jdXJyZW50KSB7XG4gICAgICBjYW5jZWxBbmltYXRpb25GcmFtZShhbmltYXRpb25SZWYuY3VycmVudClcbiAgICB9XG4gICAgXG4gICAgaWYgKG1lZGlhUmVjb3JkZXJSZWYuY3VycmVudCAmJiBtZWRpYVJlY29yZGVyUmVmLmN1cnJlbnQuc3RhdGUgIT09ICdpbmFjdGl2ZScpIHtcbiAgICAgIG1lZGlhUmVjb3JkZXJSZWYuY3VycmVudC5zdG9wKClcbiAgICB9XG4gICAgXG4gICAgc2V0SXNBY3RpdmUoZmFsc2UpXG4gICAgc2V0SXNEZXRlY3RpbmcoZmFsc2UpXG4gICAgc2V0Q3VycmVudENhcHRpb24obnVsbClcbiAgICBzZXRDb25maWRlbmNlKDApXG4gICAgc2V0UHJlZGljdGlvblNvdXJjZShudWxsKVxuICB9LCBbXSlcblxuICAvLyBNYW51YWwgc2VydmVyIHZlcmlmaWNhdGlvblxuICBjb25zdCBoYW5kbGVNYW51YWxTZXJ2ZXJWZXJpZnkgPSB1c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgaWYgKCFoYXNDb25zZW50KSB7XG4gICAgICB0b2FzdC5lcnJvcignUGxlYXNlIHByb3ZpZGUgY29uc2VudCBmb3Igc2VydmVyIHZlcmlmaWNhdGlvbicpXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBpZiAobGFuZG1hcmtCdWZmZXJSZWYuY3VycmVudC5sYW5kbWFya3MubGVuZ3RoIDwgd2luZG93U2l6ZSkge1xuICAgICAgdG9hc3QuZXJyb3IoJ0luc3VmZmljaWVudCBmcmFtZXMuIFdhaXQgZm9yIGJ1ZmZlciB0byBmaWxsLicpXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBzZXRJc1NlbmRpbmdUb1NlcnZlcih0cnVlKVxuICAgIFxuICAgIHRyeSB7XG4gICAgICBjb25zdCBjbGlwQmFzZTY0ID0gYXdhaXQgY2FwdHVyZUNsaXAoKVxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2VuZFRvU2VydmVyKFxuICAgICAgICBjbGlwQmFzZTY0LFxuICAgICAgICBsYW5kbWFya0J1ZmZlclJlZi5jdXJyZW50LmxhbmRtYXJrcy5zbGljZSgtd2luZG93U2l6ZSksXG4gICAgICAgIHtcbiAgICAgICAgICB0aW1lc3RhbXA6IHBlcmZvcm1hbmNlLm5vdygpLFxuICAgICAgICAgIGxvY2FsTGFiZWw6IGN1cnJlbnRDYXB0aW9uIHx8IHVuZGVmaW5lZCxcbiAgICAgICAgICBsb2NhbENvbmZpZGVuY2U6IGNvbmZpZGVuY2VcbiAgICAgICAgfVxuICAgICAgKVxuXG4gICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgIHRvYXN0LnN1Y2Nlc3MoYFNlcnZlciByZXN1bHQ6ICR7cmVzdWx0LmxhYmVsfSAoJHsocmVzdWx0LmNvbmZpZGVuY2UgKiAxMDApLnRvRml4ZWQoMSl9JSlgKVxuICAgICAgICBcbiAgICAgICAgaWYgKHJlc3VsdC5jb25maWRlbmNlID4gY29uZmlkZW5jZSkge1xuICAgICAgICAgIHNldEN1cnJlbnRDYXB0aW9uKHJlc3VsdC5sYWJlbClcbiAgICAgICAgICBzZXRDb25maWRlbmNlKHJlc3VsdC5jb25maWRlbmNlKVxuICAgICAgICAgIHNldFByZWRpY3Rpb25Tb3VyY2UoJ3NlcnZlcicpXG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKG9uQ2FwdGlvbikge1xuICAgICAgICAgICAgb25DYXB0aW9uKHJlc3VsdC5sYWJlbCwgcmVzdWx0LmNvbmZpZGVuY2UsICdzZXJ2ZXInKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdNYW51YWwgc2VydmVyIHZlcmlmeSBlcnJvcjonLCBlcnJvcilcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0SXNTZW5kaW5nVG9TZXJ2ZXIoZmFsc2UpXG4gICAgfVxuICB9LCBbaGFzQ29uc2VudCwgd2luZG93U2l6ZSwgY3VycmVudENhcHRpb24sIGNvbmZpZGVuY2UsIGNhcHR1cmVDbGlwLCBzZW5kVG9TZXJ2ZXIsIG9uQ2FwdGlvbiwgY29uZmlkZW5jZVRocmVzaG9sZF0pXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaXNEZXRlY3RpbmcpIHtcbiAgICAgIGRldGVjdFNpZ25zKClcbiAgICB9XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaWYgKGFuaW1hdGlvblJlZi5jdXJyZW50KSB7XG4gICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKGFuaW1hdGlvblJlZi5jdXJyZW50KVxuICAgICAgfVxuICAgIH1cbiAgfSwgW2lzRGV0ZWN0aW5nLCBkZXRlY3RTaWduc10pXG5cbiAgY29uc3QgdG9nZ2xlRGV0ZWN0aW9uID0gKCkgPT4ge1xuICAgIGlmIChpc0RldGVjdGluZykge1xuICAgICAgc3RvcERldGVjdGlvbigpXG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YXJ0RGV0ZWN0aW9uKClcbiAgICB9XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmVcIj5cbiAgICAgIHsvKiBDb25zZW50IE1vZGFsICovfVxuICAgICAge2VuYWJsZVNlcnZlckZhbGxiYWNrICYmICFoYXNDb25zZW50ICYmIChcbiAgICAgICAgPG1vdGlvbi5kaXZcbiAgICAgICAgICBpbml0aWFsPXt7IG9wYWNpdHk6IDAgfX1cbiAgICAgICAgICBhbmltYXRlPXt7IG9wYWNpdHk6IDEgfX1cbiAgICAgICAgICBjbGFzc05hbWU9XCJiZy1ibGFjay85MCBiYWNrZHJvcC1ibHVyLXNtIHJvdW5kZWQtbGcgcC00IG1iLTQgYm9yZGVyIGJvcmRlci15ZWxsb3ctNTAwLzUwXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtd2hpdGUgdGV4dC1zbSBtYi0zXCI+XG4gICAgICAgICAgICBFbmFibGUgc2VydmVyIHZlcmlmaWNhdGlvbiBmb3IgaW1wcm92ZWQgYWNjdXJhY3k/IExvdy1jb25maWRlbmNlIGNsaXBzIG1heSBiZSBzdG9yZWQgZm9yIHRyYWluaW5nICh3aXRoIHlvdXIgY29uc2VudCkuXG4gICAgICAgICAgPC9wPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBnYXAtMlwiPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRIYXNDb25zZW50KHRydWUpfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC00IHB5LTIgYmctZ3JlZW4tNjAwIGhvdmVyOmJnLWdyZWVuLTcwMCB0ZXh0LXdoaXRlIHJvdW5kZWQtbGcgdGV4dC1zbVwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIEFjY2VwdFxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldEhhc0NvbnNlbnQoZmFsc2UpfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC00IHB5LTIgYmctZ3JheS03MDAgaG92ZXI6YmctZ3JheS02MDAgdGV4dC13aGl0ZSByb3VuZGVkLWxnIHRleHQtc21cIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICBMb2NhbCBPbmx5XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9tb3Rpb24uZGl2PlxuICAgICAgKX1cblxuICAgICAgey8qIERldGVjdGlvbiBTdGF0dXMgKi99XG4gICAgICA8bW90aW9uLmRpdlxuICAgICAgICBpbml0aWFsPXt7IG9wYWNpdHk6IDAsIHk6IC0xMCB9fVxuICAgICAgICBhbmltYXRlPXt7IG9wYWNpdHk6IDEsIHk6IDAgfX1cbiAgICAgICAgY2xhc3NOYW1lPVwiYmctYmxhY2svODAgYmFja2Ryb3AtYmx1ci1zbSByb3VuZGVkLWxnIHAtMyBtYi0yXCJcbiAgICAgID5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMlwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2B3LTIgaC0yIHJvdW5kZWQtZnVsbCAke1xuICAgICAgICAgICAgICBpc0RldGVjdGluZyA/ICdiZy1ncmVlbi01MDAgYW5pbWF0ZS1wdWxzZScgOiAnYmctZ3JheS01MDAnXG4gICAgICAgICAgICB9YH0gLz5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtd2hpdGUgdGV4dC14cyBmb250LW1lZGl1bVwiPlxuICAgICAgICAgICAgICB7aXNEZXRlY3RpbmcgPyAnRGV0ZWN0aW5nJyA6ICdJZGxlJ31cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgIHtjdXJyZW50Q2FwdGlvbiAmJiAoXG4gICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1jeWFuLTQwMCB0ZXh0LXhzXCI+fDwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWN5YW4tNDAwIHRleHQteHMgZm9udC1zZW1pYm9sZFwiPntjdXJyZW50Q2FwdGlvbn08L3NwYW4+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtgdGV4dC14cyAke3ByZWRpY3Rpb25Tb3VyY2UgPT09ICdzZXJ2ZXInID8gJ3RleHQtcHVycGxlLTQwMCcgOiAndGV4dC15ZWxsb3ctNDAwJ31gfT5cbiAgICAgICAgICAgICAgICAgIHtNYXRoLnJvdW5kKGNvbmZpZGVuY2UgKiAxMDApfSUge3ByZWRpY3Rpb25Tb3VyY2UgPT09ICdzZXJ2ZXInICYmICfwn5al77iPJ31cbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICB7aXNEZXRlY3RpbmcgJiYgZW5hYmxlU2VydmVyRmFsbGJhY2sgJiYgaGFzQ29uc2VudCAmJiAoXG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVNYW51YWxTZXJ2ZXJWZXJpZnl9XG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzU2VuZGluZ1RvU2VydmVyfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInAtMS41IHRleHQtcHVycGxlLTQwMCBob3Zlcjp0ZXh0LXB1cnBsZS0zMDAgZGlzYWJsZWQ6b3BhY2l0eS01MCB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgICAgICAgdGl0bGU9XCJGb3JjZSBzZXJ2ZXIgdmVyaWZpY2F0aW9uXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxTZXJ2ZXIgY2xhc3NOYW1lPVwidy00IGgtNFwiIC8+XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgb25DbGljaz17dG9nZ2xlRGV0ZWN0aW9ufVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJwLTEgdGV4dC1ncmF5LTQwMCBob3Zlcjp0ZXh0LXdoaXRlIHRyYW5zaXRpb24tY29sb3JzXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge2lzRGV0ZWN0aW5nID8gPEV5ZU9mZiBjbGFzc05hbWU9XCJ3LTQgaC00XCIgLz4gOiA8RXllIGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPn1cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAge2lzU2VuZGluZ1RvU2VydmVyICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTIgdGV4dC14cyB0ZXh0LXB1cnBsZS00MDAgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTFcIj5cbiAgICAgICAgICAgIDxBY3Rpdml0eSBjbGFzc05hbWU9XCJ3LTMgaC0zIGFuaW1hdGUtc3BpblwiIC8+XG4gICAgICAgICAgICBTZW5kaW5nIHRvIHNlcnZlci4uLlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgPC9tb3Rpb24uZGl2PlxuXG4gICAgICB7LyogVmlkZW8gd2l0aCBMYW5kbWFyayBPdmVybGF5ICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZVwiPlxuICAgICAgICA8dmlkZW9cbiAgICAgICAgICByZWY9e3ZpZGVvUmVmfVxuICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBoLWF1dG8gcm91bmRlZC1sZ1wiXG4gICAgICAgICAgYXV0b1BsYXlcbiAgICAgICAgICBwbGF5c0lubGluZVxuICAgICAgICAgIG11dGVkXG4gICAgICAgIC8+XG4gICAgICAgIDxjYW52YXNcbiAgICAgICAgICByZWY9e2NhbnZhc1JlZn1cbiAgICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSB0b3AtMCBsZWZ0LTAgdy1mdWxsIGgtZnVsbCByb3VuZGVkLWxnIHBvaW50ZXItZXZlbnRzLW5vbmVcIlxuICAgICAgICAvPlxuICAgICAgPC9kaXY+XG5cbiAgICAgIHsvKiBNb2RlbCBTdGF0dXMgKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTIgdGV4dC14cyB0ZXh0LWdyYXktNDAwIHNwYWNlLXktMVwiPlxuICAgICAgICB7IXRmanNNb2RlbCAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXllbGxvdy00MDBcIj7imqDvuI8gVEZKUyBtb2RlbCBub3QgbG9hZGVkLiBQbGFjZSBtb2RlbCBpbiBwdWJsaWMvbW9kZWxzL3RmanNfbGFuZG1hcmtfbW9kZWwvPC9kaXY+XG4gICAgICAgICl9XG4gICAgICAgIHt0ZmpzTW9kZWwgJiYgPGRpdj7inIUgVEZKUyBtb2RlbCBsb2FkZWQ8L2Rpdj59XG4gICAgICAgIHtoYXNDb25zZW50ICYmIDxkaXY+4pyFIFNlcnZlciB2ZXJpZmljYXRpb24gZW5hYmxlZDwvZGl2Pn1cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG5cbiJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVJlZiIsInVzZUVmZmVjdCIsInVzZVN0YXRlIiwidXNlQ2FsbGJhY2siLCJtb3Rpb24iLCJBY3Rpdml0eSIsIkV5ZSIsIkV5ZU9mZiIsIlNlcnZlciIsIkhhbmRMYW5kbWFya2VyIiwiRmlsZXNldFJlc29sdmVyIiwiRHJhd2luZ1V0aWxzIiwidGYiLCJsb2FkVEZKU01vZGVsIiwiZnVzZVByZWRpY3Rpb25zIiwidG9hc3QiLCJ1c2VBdXRoIiwibG9hZEFscGhhYmV0VGVtcGxhdGVzIiwibG9hZFNlbnRlbmNlVGVtcGxhdGVzIiwiTWVkaWFQaXBlU2lnbkRldGVjdG9yIiwib25DYXB0aW9uIiwib3B0aW9ucyIsIndpbmRvd1NpemUiLCJjb25maWRlbmNlVGhyZXNob2xkIiwiZW5hYmxlU2VydmVyRmFsbGJhY2siLCJhdXRvU2VuZFRvU2VydmVyIiwiZW5hYmxlVGVtcGxhdGVzIiwidXNlciIsImlzQWN0aXZlIiwic2V0SXNBY3RpdmUiLCJpc0RldGVjdGluZyIsInNldElzRGV0ZWN0aW5nIiwiY3VycmVudENhcHRpb24iLCJzZXRDdXJyZW50Q2FwdGlvbiIsImNvbmZpZGVuY2UiLCJzZXRDb25maWRlbmNlIiwicHJlZGljdGlvblNvdXJjZSIsInNldFByZWRpY3Rpb25Tb3VyY2UiLCJpc1NlbmRpbmdUb1NlcnZlciIsInNldElzU2VuZGluZ1RvU2VydmVyIiwidGZqc01vZGVsIiwic2V0VGZqc01vZGVsIiwiaGFzQ29uc2VudCIsInNldEhhc0NvbnNlbnQiLCJzZXJ2ZXJNb2RlbEF2YWlsYWJsZSIsInNldFNlcnZlck1vZGVsQXZhaWxhYmxlIiwiY2xhc3NOYW1lcyIsInNldENsYXNzTmFtZXMiLCJhbHBoYWJldFRlbXBsYXRlcyIsInNldEFscGhhYmV0VGVtcGxhdGVzIiwic2VudGVuY2VUZW1wbGF0ZXMiLCJzZXRTZW50ZW5jZVRlbXBsYXRlcyIsInRlbXBsYXRlc0xvYWRlZCIsInNldFRlbXBsYXRlc0xvYWRlZCIsImFscGhhYmV0U3RhYmxlRnJhbWVzUmVmIiwiTWFwIiwibGFzdEFscGhhYmV0TWF0Y2hSZWYiLCJ2aWRlb1JlZiIsImNhbnZhc1JlZiIsInN0cmVhbVJlZiIsImFuaW1hdGlvblJlZiIsImhhbmRMYW5kbWFya2VyUmVmIiwibGFzdFZpZGVvVGltZVJlZiIsImxhbmRtYXJrQnVmZmVyUmVmIiwibGFuZG1hcmtzIiwidGltZXN0YW1wcyIsIm1lZGlhUmVjb3JkZXJSZWYiLCJyZWNvcmRlZENodW5rc1JlZiIsImxhc3RQcmVkaWN0aW9uVGltZVJlZiIsImluaXRpYWxpemVIYW5kTGFuZG1hcmtlciIsInZpc2lvbiIsImZvclZpc2lvblRhc2tzIiwiY3VycmVudCIsImNyZWF0ZUZyb21PcHRpb25zIiwiYmFzZU9wdGlvbnMiLCJtb2RlbEFzc2V0UGF0aCIsImRlbGVnYXRlIiwicnVubmluZ01vZGUiLCJudW1IYW5kcyIsImNvbnNvbGUiLCJsb2ciLCJlcnJvciIsImxvYWRUZW1wbGF0ZXMiLCJhbHBoYWJldHMiLCJzZW50ZW5jZXMiLCJQcm9taXNlIiwiYWxsIiwiT2JqZWN0Iiwia2V5cyIsImxlbmd0aCIsImxvYWRNb2RlbCIsIm1vZGVsIiwicmVzcG9uc2UiLCJmZXRjaCIsIm9rIiwibmFtZXMiLCJqc29uIiwiZSIsImNoZWNrU2VydmVyTW9kZWwiLCJpZFRva2VuIiwiZ2V0SWRUb2tlbiIsImhlYWRlcnMiLCJBdXRob3JpemF0aW9uIiwiZGF0YSIsIm1vZGVsQXZhaWxhYmxlIiwid2FybiIsInYiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwibm9ybWFsaXplTGFuZG1hcmtzIiwiZmVhdHVyZXMiLCJNYXRoIiwibWluIiwiaGFuZElkeCIsImhhbmQiLCJwb2ludCIsInB1c2giLCJ4IiwieSIsInoiLCJzbGljZSIsInByZWRpY3RXaXRoVEZKUyIsImJ1ZmZlciIsInByb2Nlc3NlZEJ1ZmZlciIsInVuc2hpZnQiLCJBcnJheSIsImZpbGwiLCJ0ZW5zb3IiLCJ0ZW5zb3IzZCIsInByZWRpY3Rpb24iLCJwcmVkaWN0IiwicHJlZGljdGlvbnMiLCJhcnJheSIsImRpc3Bvc2UiLCJzY29yZXMiLCJtYXhJZHgiLCJpbmRleE9mIiwibWF4IiwiY29uZiIsImxhYmVscyIsImxhYmVsIiwic2VuZFRvU2VydmVyIiwiY2xpcEJhc2U2NCIsIm1ldGEiLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImNvbnNlbnQiLCJFcnJvciIsInN0YXR1c1RleHQiLCJyZXN1bHQiLCJjYXB0dXJlQ2xpcCIsInJlc29sdmUiLCJyZWplY3QiLCJtZWRpYVJlY29yZGVyIiwiTWVkaWFSZWNvcmRlciIsIm1pbWVUeXBlIiwib25kYXRhYXZhaWxhYmxlIiwiZXZlbnQiLCJzaXplIiwib25zdG9wIiwiYmxvYiIsIkJsb2IiLCJ0eXBlIiwicmVhZGVyIiwiRmlsZVJlYWRlciIsIm9ubG9hZCIsImJhc2U2NCIsInNwbGl0Iiwib25lcnJvciIsInJlYWRBc0RhdGFVUkwiLCJzdGFydCIsInNldFRpbWVvdXQiLCJzdG9wIiwiZGV0ZWN0U2lnbnMiLCJ2aWRlbyIsImNhbnZhcyIsInN0YXJ0VGltZU1zIiwicGVyZm9ybWFuY2UiLCJub3ciLCJjdXJyZW50VGltZSIsInJlc3VsdHMiLCJkZXRlY3RGb3JWaWRlbyIsImRyYXdMYW5kbWFya3MiLCJub3JtYWxpemVkIiwic2hpZnQiLCJEYXRlIiwidGhlbiIsImxvY2FsQ29uZiIsInNlcnZlclJlc3VsdCIsInRpbWVzdGFtcCIsImxvY2FsTGFiZWwiLCJsb2NhbENvbmZpZGVuY2UiLCJmdXNlZCIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImN0eCIsImdldENvbnRleHQiLCJ3aWR0aCIsInZpZGVvV2lkdGgiLCJoZWlnaHQiLCJ2aWRlb0hlaWdodCIsImNsZWFyUmVjdCIsImRyYXdpbmdVdGlscyIsImRyYXdDb25uZWN0b3JzIiwiSEFORF9DT05ORUNUSU9OUyIsImNvbG9yIiwibGluZVdpZHRoIiwicmFkaXVzIiwic3RhcnREZXRlY3Rpb24iLCJzdHJlYW0iLCJuYXZpZ2F0b3IiLCJtZWRpYURldmljZXMiLCJnZXRVc2VyTWVkaWEiLCJmYWNpbmdNb2RlIiwic3JjT2JqZWN0Iiwic3RvcERldGVjdGlvbiIsImdldFRyYWNrcyIsImZvckVhY2giLCJ0cmFjayIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwic3RhdGUiLCJoYW5kbGVNYW51YWxTZXJ2ZXJWZXJpZnkiLCJ1bmRlZmluZWQiLCJzdWNjZXNzIiwidG9GaXhlZCIsInRvZ2dsZURldGVjdGlvbiIsImRpdiIsImNsYXNzTmFtZSIsImluaXRpYWwiLCJvcGFjaXR5IiwiYW5pbWF0ZSIsInAiLCJidXR0b24iLCJvbkNsaWNrIiwic3BhbiIsInJvdW5kIiwiZGlzYWJsZWQiLCJ0aXRsZSIsInJlZiIsImF1dG9QbGF5IiwicGxheXNJbmxpbmUiLCJtdXRlZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/MediaPipeSignDetector.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./lib/templateMatching.ts":
/*!*********************************!*\
  !*** ./lib/templateMatching.ts ***!
  \*********************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TemplateMatchingConfig: function() { return /* binding */ TemplateMatchingConfig; },\n/* harmony export */   cosineDistance: function() { return /* binding */ cosineDistance; },\n/* harmony export */   dtwDistance: function() { return /* binding */ dtwDistance; },\n/* harmony export */   euclideanDistance: function() { return /* binding */ euclideanDistance; },\n/* harmony export */   hasMovement: function() { return /* binding */ hasMovement; },\n/* harmony export */   loadAlphabetTemplates: function() { return /* binding */ loadAlphabetTemplates; },\n/* harmony export */   loadSentenceTemplates: function() { return /* binding */ loadSentenceTemplates; },\n/* harmony export */   matchAlphabet: function() { return /* binding */ matchAlphabet; },\n/* harmony export */   matchSentence: function() { return /* binding */ matchSentence; },\n/* harmony export */   normalizeLandmarks: function() { return /* binding */ normalizeLandmarks; }\n/* harmony export */ });\n/**\r\n * Template matching utilities for sign language recognition\r\n * Implements DTW (Dynamic Time Warping) for sentence matching\r\n * and static distance matching for alphabet recognition\r\n */ // Configuration thresholds (tunable)\nconst ALPHABET_THRESHOLD = 0.15 // Normalized distance threshold for alphabet\n;\nconst SENTENCE_THRESHOLD = 0.25 // Normalized distance threshold for sentence\n;\nconst ALPHABET_STABILITY_FRAMES = 5 // Frames to hold before emitting\n;\nconst SENTENCE_MIN_FRAMES = 8 // Minimum frames for sentence detection\n;\nconst SENTENCE_MAX_FRAMES = 48 // Maximum window size\n;\nconst CONFIDENCE_SCALE = 2.0 // Scale factor for confidence calculation\n;\n/**\r\n * Normalize landmarks to signer-centered coordinates\r\n * Translates by wrist position and scales by hand bounding box\r\n */ function normalizeLandmarks(rawLandmarks) {\n    if (rawLandmarks.length !== 126) {\n        console.warn(\"Expected 126 landmarks, got \".concat(rawLandmarks.length));\n        return rawLandmarks;\n    }\n    const normalized = [\n        ...rawLandmarks\n    ];\n    // Normalize each hand separately\n    for(let hand = 0; hand < 2; hand++){\n        const handOffset = hand * 63 // 21 landmarks × 3 coordinates\n        ;\n        // Find wrist position (landmark 0)\n        const wristX = rawLandmarks[handOffset];\n        const wristY = rawLandmarks[handOffset + 1];\n        const wristZ = rawLandmarks[handOffset + 2];\n        // Find bounding box of hand\n        let minX = wristX, maxX = wristX;\n        let minY = wristY, maxY = wristY;\n        let minZ = wristZ, maxZ = wristZ;\n        for(let i = 0; i < 21; i++){\n            const idx = handOffset + i * 3;\n            const x = rawLandmarks[idx];\n            const y = rawLandmarks[idx + 1];\n            const z = rawLandmarks[idx + 2];\n            minX = Math.min(minX, x);\n            maxX = Math.max(maxX, x);\n            minY = Math.min(minY, y);\n            maxY = Math.max(maxY, y);\n            minZ = Math.min(minZ, z);\n            maxZ = Math.max(maxZ, z);\n        }\n        // Scale factors\n        const scaleX = maxX !== minX ? 1 / (maxX - minX) : 1;\n        const scaleY = maxY !== minY ? 1 / (maxY - minY) : 1;\n        const scaleZ = maxZ !== minZ ? 1 / (maxZ - minZ) : 1;\n        const scale = Math.max(scaleX, scaleY, scaleZ);\n        // Normalize: translate by wrist, scale by bbox\n        for(let i = 0; i < 21; i++){\n            const idx = handOffset + i * 3;\n            normalized[idx] = (rawLandmarks[idx] - wristX) * scale + 0.5;\n            normalized[idx + 1] = (rawLandmarks[idx + 1] - wristY) * scale + 0.5;\n            normalized[idx + 2] = (rawLandmarks[idx + 2] - wristZ) * scale + 0.5;\n        }\n    }\n    return normalized;\n}\n/**\r\n * Compute cosine distance between two landmark vectors\r\n */ function cosineDistance(a, b) {\n    if (a.length !== b.length) {\n        return 1.0 // Maximum distance\n        ;\n    }\n    let dotProduct = 0;\n    let normA = 0;\n    let normB = 0;\n    for(let i = 0; i < a.length; i++){\n        dotProduct += a[i] * b[i];\n        normA += a[i] * a[i];\n        normB += b[i] * b[i];\n    }\n    const denominator = Math.sqrt(normA) * Math.sqrt(normB);\n    if (denominator === 0) return 1.0;\n    const cosine = dotProduct / denominator;\n    return 1 - cosine // Convert to distance\n    ;\n}\n/**\r\n * Compute Euclidean distance between two landmark vectors\r\n */ function euclideanDistance(a, b) {\n    if (a.length !== b.length) {\n        return Infinity;\n    }\n    let sum = 0;\n    for(let i = 0; i < a.length; i++){\n        const diff = a[i] - b[i];\n        sum += diff * diff;\n    }\n    return Math.sqrt(sum);\n}\n/**\r\n * Match alphabet against templates using static distance matching\r\n */ function matchAlphabet(normalizedLandmarks, alphabetTemplates) {\n    let bestMatch = null;\n    let bestDistance = Infinity;\n    for (const [letter, template] of Object.entries(alphabetTemplates)){\n        const distance = cosineDistance(normalizedLandmarks, template.landmark);\n        if (distance < bestDistance) {\n            bestDistance = distance;\n            bestMatch = {\n                label: letter,\n                confidence: Math.max(0, 1 - distance * CONFIDENCE_SCALE),\n                distance,\n                source: \"template\"\n            };\n        }\n    }\n    // Only return match if distance is below threshold\n    if (bestMatch && bestDistance < ALPHABET_THRESHOLD) {\n        return bestMatch;\n    }\n    return null;\n}\n/**\r\n * Dynamic Time Warping (DTW) algorithm for sequence matching\r\n * Returns normalized distance between two sequences\r\n */ function dtwDistance(sequence1, sequence2) {\n    const n = sequence1.length;\n    const m = sequence2.length;\n    if (n === 0 || m === 0) {\n        return Infinity;\n    }\n    // Initialize DP table\n    const dp = Array(n + 1).fill(null).map(()=>Array(m + 1).fill(Infinity));\n    dp[0][0] = 0;\n    // Fill DP table\n    for(let i = 1; i <= n; i++){\n        for(let j = 1; j <= m; j++){\n            const cost = euclideanDistance(sequence1[i - 1], sequence2[j - 1]);\n            dp[i][j] = cost + Math.min(dp[i - 1][j], dp[i][j - 1], dp[i - 1][j - 1] // Match\n            );\n        }\n    }\n    // Normalize by path length\n    const pathLength = Math.max(n, m);\n    return dp[n][m] / pathLength;\n}\n/**\r\n * Match sentence using sliding window DTW matching\r\n */ function matchSentence(landmarkSequence, sentenceTemplates) {\n    if (landmarkSequence.length < SENTENCE_MIN_FRAMES) {\n        return null;\n    }\n    // Use sliding window of appropriate size\n    const windowSize = Math.min(landmarkSequence.length, SENTENCE_MAX_FRAMES);\n    const window = landmarkSequence.slice(-windowSize);\n    let bestMatch = null;\n    let bestDistance = Infinity;\n    for (const [id, template] of Object.entries(sentenceTemplates)){\n        const distance = dtwDistance(window, template.sequence);\n        if (distance < bestDistance) {\n            bestDistance = distance;\n            bestMatch = {\n                label: template.text,\n                confidence: Math.max(0, 1 - distance * CONFIDENCE_SCALE),\n                distance,\n                source: \"template\"\n            };\n        }\n    }\n    // Only return match if distance is below threshold\n    if (bestMatch && bestDistance < SENTENCE_THRESHOLD) {\n        return bestMatch;\n    }\n    return null;\n}\n/**\r\n * Detect if sequence shows movement (unstable)\r\n * Used to distinguish between static alphabet and dynamic sentence\r\n */ function hasMovement(landmarkSequence) {\n    let threshold = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0.05;\n    if (landmarkSequence.length < 2) {\n        return false;\n    }\n    // Compute average frame-to-frame distance\n    let totalDistance = 0;\n    for(let i = 1; i < landmarkSequence.length; i++){\n        totalDistance += euclideanDistance(landmarkSequence[i - 1], landmarkSequence[i]);\n    }\n    const avgDistance = totalDistance / (landmarkSequence.length - 1);\n    return avgDistance > threshold;\n}\n/**\r\n * Load alphabet templates from JSON\r\n */ async function loadAlphabetTemplates() {\n    try {\n        const response = await fetch(\"/models/templates/alphabets.json\");\n        if (!response.ok) {\n            throw new Error(\"Failed to load alphabets: \".concat(response.statusText));\n        }\n        return await response.json();\n    } catch (error) {\n        console.error(\"Error loading alphabet templates:\", error);\n        return {};\n    }\n}\n/**\r\n * Load sentence templates from JSON\r\n */ async function loadSentenceTemplates() {\n    try {\n        const response = await fetch(\"/models/templates/sentences.json\");\n        if (!response.ok) {\n            throw new Error(\"Failed to load sentences: \".concat(response.statusText));\n        }\n        return await response.json();\n    } catch (error) {\n        console.error(\"Error loading sentence templates:\", error);\n        return {};\n    }\n}\n// Export configuration for external tuning\nconst TemplateMatchingConfig = {\n    ALPHABET_THRESHOLD,\n    SENTENCE_THRESHOLD,\n    ALPHABET_STABILITY_FRAMES,\n    SENTENCE_MIN_FRAMES,\n    SENTENCE_MAX_FRAMES,\n    CONFIDENCE_SCALE\n};\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2xpYi90ZW1wbGF0ZU1hdGNoaW5nLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBQTs7OztDQUlDLEdBb0JELHFDQUFxQztBQUNyQyxNQUFNQSxxQkFBcUIsS0FBTSw2Q0FBNkM7O0FBQzlFLE1BQU1DLHFCQUFxQixLQUFNLDZDQUE2Qzs7QUFDOUUsTUFBTUMsNEJBQTRCLEVBQUcsaUNBQWlDOztBQUN0RSxNQUFNQyxzQkFBc0IsRUFBRyx3Q0FBd0M7O0FBQ3ZFLE1BQU1DLHNCQUFzQixHQUFJLHNCQUFzQjs7QUFDdEQsTUFBTUMsbUJBQW1CLElBQUssMENBQTBDOztBQUV4RTs7O0NBR0MsR0FDTSxTQUFTQyxtQkFBbUJDLFlBQXNCO0lBQ3ZELElBQUlBLGFBQWFDLE1BQU0sS0FBSyxLQUFLO1FBQy9CQyxRQUFRQyxJQUFJLENBQUMsK0JBQW1ELE9BQXBCSCxhQUFhQyxNQUFNO1FBQy9ELE9BQU9EO0lBQ1Q7SUFFQSxNQUFNSSxhQUFhO1dBQUlKO0tBQWE7SUFFcEMsaUNBQWlDO0lBQ2pDLElBQUssSUFBSUssT0FBTyxHQUFHQSxPQUFPLEdBQUdBLE9BQVE7UUFDbkMsTUFBTUMsYUFBYUQsT0FBTyxHQUFJLCtCQUErQjs7UUFFN0QsbUNBQW1DO1FBQ25DLE1BQU1FLFNBQVNQLFlBQVksQ0FBQ00sV0FBVztRQUN2QyxNQUFNRSxTQUFTUixZQUFZLENBQUNNLGFBQWEsRUFBRTtRQUMzQyxNQUFNRyxTQUFTVCxZQUFZLENBQUNNLGFBQWEsRUFBRTtRQUUzQyw0QkFBNEI7UUFDNUIsSUFBSUksT0FBT0gsUUFBUUksT0FBT0o7UUFDMUIsSUFBSUssT0FBT0osUUFBUUssT0FBT0w7UUFDMUIsSUFBSU0sT0FBT0wsUUFBUU0sT0FBT047UUFFMUIsSUFBSyxJQUFJTyxJQUFJLEdBQUdBLElBQUksSUFBSUEsSUFBSztZQUMzQixNQUFNQyxNQUFNWCxhQUFhVSxJQUFJO1lBQzdCLE1BQU1FLElBQUlsQixZQUFZLENBQUNpQixJQUFJO1lBQzNCLE1BQU1FLElBQUluQixZQUFZLENBQUNpQixNQUFNLEVBQUU7WUFDL0IsTUFBTUcsSUFBSXBCLFlBQVksQ0FBQ2lCLE1BQU0sRUFBRTtZQUUvQlAsT0FBT1csS0FBS0MsR0FBRyxDQUFDWixNQUFNUTtZQUN0QlAsT0FBT1UsS0FBS0UsR0FBRyxDQUFDWixNQUFNTztZQUN0Qk4sT0FBT1MsS0FBS0MsR0FBRyxDQUFDVixNQUFNTztZQUN0Qk4sT0FBT1EsS0FBS0UsR0FBRyxDQUFDVixNQUFNTTtZQUN0QkwsT0FBT08sS0FBS0MsR0FBRyxDQUFDUixNQUFNTTtZQUN0QkwsT0FBT00sS0FBS0UsR0FBRyxDQUFDUixNQUFNSztRQUN4QjtRQUVBLGdCQUFnQjtRQUNoQixNQUFNSSxTQUFTYixTQUFTRCxPQUFPLElBQUtDLENBQUFBLE9BQU9ELElBQUcsSUFBSztRQUNuRCxNQUFNZSxTQUFTWixTQUFTRCxPQUFPLElBQUtDLENBQUFBLE9BQU9ELElBQUcsSUFBSztRQUNuRCxNQUFNYyxTQUFTWCxTQUFTRCxPQUFPLElBQUtDLENBQUFBLE9BQU9ELElBQUcsSUFBSztRQUNuRCxNQUFNYSxRQUFRTixLQUFLRSxHQUFHLENBQUNDLFFBQVFDLFFBQVFDO1FBRXZDLCtDQUErQztRQUMvQyxJQUFLLElBQUlWLElBQUksR0FBR0EsSUFBSSxJQUFJQSxJQUFLO1lBQzNCLE1BQU1DLE1BQU1YLGFBQWFVLElBQUk7WUFDN0JaLFVBQVUsQ0FBQ2EsSUFBSSxHQUFHLENBQUNqQixZQUFZLENBQUNpQixJQUFJLEdBQUdWLE1BQUssSUFBS29CLFFBQVE7WUFDekR2QixVQUFVLENBQUNhLE1BQU0sRUFBRSxHQUFHLENBQUNqQixZQUFZLENBQUNpQixNQUFNLEVBQUUsR0FBR1QsTUFBSyxJQUFLbUIsUUFBUTtZQUNqRXZCLFVBQVUsQ0FBQ2EsTUFBTSxFQUFFLEdBQUcsQ0FBQ2pCLFlBQVksQ0FBQ2lCLE1BQU0sRUFBRSxHQUFHUixNQUFLLElBQUtrQixRQUFRO1FBQ25FO0lBQ0Y7SUFFQSxPQUFPdkI7QUFDVDtBQUVBOztDQUVDLEdBQ00sU0FBU3dCLGVBQWVDLENBQVcsRUFBRUMsQ0FBVztJQUNyRCxJQUFJRCxFQUFFNUIsTUFBTSxLQUFLNkIsRUFBRTdCLE1BQU0sRUFBRTtRQUN6QixPQUFPLElBQUssbUJBQW1COztJQUNqQztJQUVBLElBQUk4QixhQUFhO0lBQ2pCLElBQUlDLFFBQVE7SUFDWixJQUFJQyxRQUFRO0lBRVosSUFBSyxJQUFJakIsSUFBSSxHQUFHQSxJQUFJYSxFQUFFNUIsTUFBTSxFQUFFZSxJQUFLO1FBQ2pDZSxjQUFjRixDQUFDLENBQUNiLEVBQUUsR0FBR2MsQ0FBQyxDQUFDZCxFQUFFO1FBQ3pCZ0IsU0FBU0gsQ0FBQyxDQUFDYixFQUFFLEdBQUdhLENBQUMsQ0FBQ2IsRUFBRTtRQUNwQmlCLFNBQVNILENBQUMsQ0FBQ2QsRUFBRSxHQUFHYyxDQUFDLENBQUNkLEVBQUU7SUFDdEI7SUFFQSxNQUFNa0IsY0FBY2IsS0FBS2MsSUFBSSxDQUFDSCxTQUFTWCxLQUFLYyxJQUFJLENBQUNGO0lBQ2pELElBQUlDLGdCQUFnQixHQUFHLE9BQU87SUFFOUIsTUFBTUUsU0FBU0wsYUFBYUc7SUFDNUIsT0FBTyxJQUFJRSxPQUFRLHNCQUFzQjs7QUFDM0M7QUFFQTs7Q0FFQyxHQUNNLFNBQVNDLGtCQUFrQlIsQ0FBVyxFQUFFQyxDQUFXO0lBQ3hELElBQUlELEVBQUU1QixNQUFNLEtBQUs2QixFQUFFN0IsTUFBTSxFQUFFO1FBQ3pCLE9BQU9xQztJQUNUO0lBRUEsSUFBSUMsTUFBTTtJQUNWLElBQUssSUFBSXZCLElBQUksR0FBR0EsSUFBSWEsRUFBRTVCLE1BQU0sRUFBRWUsSUFBSztRQUNqQyxNQUFNd0IsT0FBT1gsQ0FBQyxDQUFDYixFQUFFLEdBQUdjLENBQUMsQ0FBQ2QsRUFBRTtRQUN4QnVCLE9BQU9DLE9BQU9BO0lBQ2hCO0lBRUEsT0FBT25CLEtBQUtjLElBQUksQ0FBQ0k7QUFDbkI7QUFFQTs7Q0FFQyxHQUNNLFNBQVNFLGNBQ2RDLG1CQUE2QixFQUM3QkMsaUJBQW1EO0lBRW5ELElBQUlDLFlBQWdDO0lBQ3BDLElBQUlDLGVBQWVQO0lBRW5CLEtBQUssTUFBTSxDQUFDUSxRQUFRQyxTQUFTLElBQUlDLE9BQU9DLE9BQU8sQ0FBQ04sbUJBQW9CO1FBQ2xFLE1BQU1PLFdBQVd0QixlQUFlYyxxQkFBcUJLLFNBQVNJLFFBQVE7UUFFdEUsSUFBSUQsV0FBV0wsY0FBYztZQUMzQkEsZUFBZUs7WUFDZk4sWUFBWTtnQkFDVlEsT0FBT047Z0JBQ1BPLFlBQVloQyxLQUFLRSxHQUFHLENBQUMsR0FBRyxJQUFJMkIsV0FBV3BEO2dCQUN2Q29EO2dCQUNBSSxRQUFRO1lBQ1Y7UUFDRjtJQUNGO0lBRUEsbURBQW1EO0lBQ25ELElBQUlWLGFBQWFDLGVBQWVwRCxvQkFBb0I7UUFDbEQsT0FBT21EO0lBQ1Q7SUFFQSxPQUFPO0FBQ1Q7QUFFQTs7O0NBR0MsR0FDTSxTQUFTVyxZQUFZQyxTQUFxQixFQUFFQyxTQUFxQjtJQUN0RSxNQUFNQyxJQUFJRixVQUFVdkQsTUFBTTtJQUMxQixNQUFNMEQsSUFBSUYsVUFBVXhELE1BQU07SUFFMUIsSUFBSXlELE1BQU0sS0FBS0MsTUFBTSxHQUFHO1FBQ3RCLE9BQU9yQjtJQUNUO0lBRUEsc0JBQXNCO0lBQ3RCLE1BQU1zQixLQUFpQkMsTUFBTUgsSUFBSSxHQUFHSSxJQUFJLENBQUMsTUFBTUMsR0FBRyxDQUFDLElBQU1GLE1BQU1GLElBQUksR0FBR0csSUFBSSxDQUFDeEI7SUFDM0VzQixFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsR0FBRztJQUVYLGdCQUFnQjtJQUNoQixJQUFLLElBQUk1QyxJQUFJLEdBQUdBLEtBQUswQyxHQUFHMUMsSUFBSztRQUMzQixJQUFLLElBQUlnRCxJQUFJLEdBQUdBLEtBQUtMLEdBQUdLLElBQUs7WUFDM0IsTUFBTUMsT0FBTzVCLGtCQUFrQm1CLFNBQVMsQ0FBQ3hDLElBQUksRUFBRSxFQUFFeUMsU0FBUyxDQUFDTyxJQUFJLEVBQUU7WUFDakVKLEVBQUUsQ0FBQzVDLEVBQUUsQ0FBQ2dELEVBQUUsR0FBR0MsT0FBTzVDLEtBQUtDLEdBQUcsQ0FDeEJzQyxFQUFFLENBQUM1QyxJQUFJLEVBQUUsQ0FBQ2dELEVBQUUsRUFDWkosRUFBRSxDQUFDNUMsRUFBRSxDQUFDZ0QsSUFBSSxFQUFFLEVBQ1pKLEVBQUUsQ0FBQzVDLElBQUksRUFBRSxDQUFDZ0QsSUFBSSxFQUFFLENBQUcsUUFBUTs7UUFFL0I7SUFDRjtJQUVBLDJCQUEyQjtJQUMzQixNQUFNRSxhQUFhN0MsS0FBS0UsR0FBRyxDQUFDbUMsR0FBR0M7SUFDL0IsT0FBT0MsRUFBRSxDQUFDRixFQUFFLENBQUNDLEVBQUUsR0FBR087QUFDcEI7QUFFQTs7Q0FFQyxHQUNNLFNBQVNDLGNBQ2RDLGdCQUE0QixFQUM1QkMsaUJBQW1EO0lBRW5ELElBQUlELGlCQUFpQm5FLE1BQU0sR0FBR0wscUJBQXFCO1FBQ2pELE9BQU87SUFDVDtJQUVBLHlDQUF5QztJQUN6QyxNQUFNMEUsYUFBYWpELEtBQUtDLEdBQUcsQ0FBQzhDLGlCQUFpQm5FLE1BQU0sRUFBRUo7SUFDckQsTUFBTTBFLFNBQVNILGlCQUFpQkksS0FBSyxDQUFDLENBQUNGO0lBRXZDLElBQUkxQixZQUFnQztJQUNwQyxJQUFJQyxlQUFlUDtJQUVuQixLQUFLLE1BQU0sQ0FBQ21DLElBQUkxQixTQUFTLElBQUlDLE9BQU9DLE9BQU8sQ0FBQ29CLG1CQUFvQjtRQUM5RCxNQUFNbkIsV0FBV0ssWUFBWWdCLFFBQVF4QixTQUFTMkIsUUFBUTtRQUV0RCxJQUFJeEIsV0FBV0wsY0FBYztZQUMzQkEsZUFBZUs7WUFDZk4sWUFBWTtnQkFDVlEsT0FBT0wsU0FBUzRCLElBQUk7Z0JBQ3BCdEIsWUFBWWhDLEtBQUtFLEdBQUcsQ0FBQyxHQUFHLElBQUkyQixXQUFXcEQ7Z0JBQ3ZDb0Q7Z0JBQ0FJLFFBQVE7WUFDVjtRQUNGO0lBQ0Y7SUFFQSxtREFBbUQ7SUFDbkQsSUFBSVYsYUFBYUMsZUFBZW5ELG9CQUFvQjtRQUNsRCxPQUFPa0Q7SUFDVDtJQUVBLE9BQU87QUFDVDtBQUVBOzs7Q0FHQyxHQUNNLFNBQVNnQyxZQUFZUixnQkFBNEI7UUFBRVMsWUFBQUEsaUVBQW9CO0lBQzVFLElBQUlULGlCQUFpQm5FLE1BQU0sR0FBRyxHQUFHO1FBQy9CLE9BQU87SUFDVDtJQUVBLDBDQUEwQztJQUMxQyxJQUFJNkUsZ0JBQWdCO0lBQ3BCLElBQUssSUFBSTlELElBQUksR0FBR0EsSUFBSW9ELGlCQUFpQm5FLE1BQU0sRUFBRWUsSUFBSztRQUNoRDhELGlCQUFpQnpDLGtCQUFrQitCLGdCQUFnQixDQUFDcEQsSUFBSSxFQUFFLEVBQUVvRCxnQkFBZ0IsQ0FBQ3BELEVBQUU7SUFDakY7SUFFQSxNQUFNK0QsY0FBY0QsZ0JBQWlCVixDQUFBQSxpQkFBaUJuRSxNQUFNLEdBQUc7SUFDL0QsT0FBTzhFLGNBQWNGO0FBQ3ZCO0FBRUE7O0NBRUMsR0FDTSxlQUFlRztJQUNwQixJQUFJO1FBQ0YsTUFBTUMsV0FBVyxNQUFNQyxNQUFNO1FBQzdCLElBQUksQ0FBQ0QsU0FBU0UsRUFBRSxFQUFFO1lBQ2hCLE1BQU0sSUFBSUMsTUFBTSw2QkFBaUQsT0FBcEJILFNBQVNJLFVBQVU7UUFDbEU7UUFDQSxPQUFPLE1BQU1KLFNBQVNLLElBQUk7SUFDNUIsRUFBRSxPQUFPQyxPQUFPO1FBQ2RyRixRQUFRcUYsS0FBSyxDQUFDLHFDQUFxQ0E7UUFDbkQsT0FBTyxDQUFDO0lBQ1Y7QUFDRjtBQUVBOztDQUVDLEdBQ00sZUFBZUM7SUFDcEIsSUFBSTtRQUNGLE1BQU1QLFdBQVcsTUFBTUMsTUFBTTtRQUM3QixJQUFJLENBQUNELFNBQVNFLEVBQUUsRUFBRTtZQUNoQixNQUFNLElBQUlDLE1BQU0sNkJBQWlELE9BQXBCSCxTQUFTSSxVQUFVO1FBQ2xFO1FBQ0EsT0FBTyxNQUFNSixTQUFTSyxJQUFJO0lBQzVCLEVBQUUsT0FBT0MsT0FBTztRQUNkckYsUUFBUXFGLEtBQUssQ0FBQyxxQ0FBcUNBO1FBQ25ELE9BQU8sQ0FBQztJQUNWO0FBQ0Y7QUFFQSwyQ0FBMkM7QUFDcEMsTUFBTUUseUJBQXlCO0lBQ3BDaEc7SUFDQUM7SUFDQUM7SUFDQUM7SUFDQUM7SUFDQUM7QUFDRixFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL2xpYi90ZW1wbGF0ZU1hdGNoaW5nLnRzP2MxNzYiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIFRlbXBsYXRlIG1hdGNoaW5nIHV0aWxpdGllcyBmb3Igc2lnbiBsYW5ndWFnZSByZWNvZ25pdGlvblxyXG4gKiBJbXBsZW1lbnRzIERUVyAoRHluYW1pYyBUaW1lIFdhcnBpbmcpIGZvciBzZW50ZW5jZSBtYXRjaGluZ1xyXG4gKiBhbmQgc3RhdGljIGRpc3RhbmNlIG1hdGNoaW5nIGZvciBhbHBoYWJldCByZWNvZ25pdGlvblxyXG4gKi9cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQWxwaGFiZXRUZW1wbGF0ZSB7XHJcbiAgbGFuZG1hcms6IG51bWJlcltdXHJcbiAgbm90ZXM/OiBzdHJpbmdcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBTZW50ZW5jZVRlbXBsYXRlIHtcclxuICB0ZXh0OiBzdHJpbmdcclxuICBzZXF1ZW5jZTogbnVtYmVyW11bXVxyXG4gIG5vdGVzPzogc3RyaW5nXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgTWF0Y2hSZXN1bHQge1xyXG4gIGxhYmVsOiBzdHJpbmdcclxuICBjb25maWRlbmNlOiBudW1iZXJcclxuICBkaXN0YW5jZTogbnVtYmVyXHJcbiAgc291cmNlOiAndGVtcGxhdGUnIHwgJ3RmanMnIHwgJ3NlcnZlcidcclxufVxyXG5cclxuLy8gQ29uZmlndXJhdGlvbiB0aHJlc2hvbGRzICh0dW5hYmxlKVxyXG5jb25zdCBBTFBIQUJFVF9USFJFU0hPTEQgPSAwLjE1ICAvLyBOb3JtYWxpemVkIGRpc3RhbmNlIHRocmVzaG9sZCBmb3IgYWxwaGFiZXRcclxuY29uc3QgU0VOVEVOQ0VfVEhSRVNIT0xEID0gMC4yNSAgLy8gTm9ybWFsaXplZCBkaXN0YW5jZSB0aHJlc2hvbGQgZm9yIHNlbnRlbmNlXHJcbmNvbnN0IEFMUEhBQkVUX1NUQUJJTElUWV9GUkFNRVMgPSA1ICAvLyBGcmFtZXMgdG8gaG9sZCBiZWZvcmUgZW1pdHRpbmdcclxuY29uc3QgU0VOVEVOQ0VfTUlOX0ZSQU1FUyA9IDggIC8vIE1pbmltdW0gZnJhbWVzIGZvciBzZW50ZW5jZSBkZXRlY3Rpb25cclxuY29uc3QgU0VOVEVOQ0VfTUFYX0ZSQU1FUyA9IDQ4ICAvLyBNYXhpbXVtIHdpbmRvdyBzaXplXHJcbmNvbnN0IENPTkZJREVOQ0VfU0NBTEUgPSAyLjAgIC8vIFNjYWxlIGZhY3RvciBmb3IgY29uZmlkZW5jZSBjYWxjdWxhdGlvblxyXG5cclxuLyoqXHJcbiAqIE5vcm1hbGl6ZSBsYW5kbWFya3MgdG8gc2lnbmVyLWNlbnRlcmVkIGNvb3JkaW5hdGVzXHJcbiAqIFRyYW5zbGF0ZXMgYnkgd3Jpc3QgcG9zaXRpb24gYW5kIHNjYWxlcyBieSBoYW5kIGJvdW5kaW5nIGJveFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZUxhbmRtYXJrcyhyYXdMYW5kbWFya3M6IG51bWJlcltdKTogbnVtYmVyW10ge1xyXG4gIGlmIChyYXdMYW5kbWFya3MubGVuZ3RoICE9PSAxMjYpIHtcclxuICAgIGNvbnNvbGUud2FybihgRXhwZWN0ZWQgMTI2IGxhbmRtYXJrcywgZ290ICR7cmF3TGFuZG1hcmtzLmxlbmd0aH1gKVxyXG4gICAgcmV0dXJuIHJhd0xhbmRtYXJrc1xyXG4gIH1cclxuXHJcbiAgY29uc3Qgbm9ybWFsaXplZCA9IFsuLi5yYXdMYW5kbWFya3NdXHJcblxyXG4gIC8vIE5vcm1hbGl6ZSBlYWNoIGhhbmQgc2VwYXJhdGVseVxyXG4gIGZvciAobGV0IGhhbmQgPSAwOyBoYW5kIDwgMjsgaGFuZCsrKSB7XHJcbiAgICBjb25zdCBoYW5kT2Zmc2V0ID0gaGFuZCAqIDYzICAvLyAyMSBsYW5kbWFya3Mgw5cgMyBjb29yZGluYXRlc1xyXG4gICAgXHJcbiAgICAvLyBGaW5kIHdyaXN0IHBvc2l0aW9uIChsYW5kbWFyayAwKVxyXG4gICAgY29uc3Qgd3Jpc3RYID0gcmF3TGFuZG1hcmtzW2hhbmRPZmZzZXRdXHJcbiAgICBjb25zdCB3cmlzdFkgPSByYXdMYW5kbWFya3NbaGFuZE9mZnNldCArIDFdXHJcbiAgICBjb25zdCB3cmlzdFogPSByYXdMYW5kbWFya3NbaGFuZE9mZnNldCArIDJdXHJcblxyXG4gICAgLy8gRmluZCBib3VuZGluZyBib3ggb2YgaGFuZFxyXG4gICAgbGV0IG1pblggPSB3cmlzdFgsIG1heFggPSB3cmlzdFhcclxuICAgIGxldCBtaW5ZID0gd3Jpc3RZLCBtYXhZID0gd3Jpc3RZXHJcbiAgICBsZXQgbWluWiA9IHdyaXN0WiwgbWF4WiA9IHdyaXN0WlxyXG5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMjE7IGkrKykge1xyXG4gICAgICBjb25zdCBpZHggPSBoYW5kT2Zmc2V0ICsgaSAqIDNcclxuICAgICAgY29uc3QgeCA9IHJhd0xhbmRtYXJrc1tpZHhdXHJcbiAgICAgIGNvbnN0IHkgPSByYXdMYW5kbWFya3NbaWR4ICsgMV1cclxuICAgICAgY29uc3QgeiA9IHJhd0xhbmRtYXJrc1tpZHggKyAyXVxyXG5cclxuICAgICAgbWluWCA9IE1hdGgubWluKG1pblgsIHgpXHJcbiAgICAgIG1heFggPSBNYXRoLm1heChtYXhYLCB4KVxyXG4gICAgICBtaW5ZID0gTWF0aC5taW4obWluWSwgeSlcclxuICAgICAgbWF4WSA9IE1hdGgubWF4KG1heFksIHkpXHJcbiAgICAgIG1pblogPSBNYXRoLm1pbihtaW5aLCB6KVxyXG4gICAgICBtYXhaID0gTWF0aC5tYXgobWF4WiwgeilcclxuICAgIH1cclxuXHJcbiAgICAvLyBTY2FsZSBmYWN0b3JzXHJcbiAgICBjb25zdCBzY2FsZVggPSBtYXhYICE9PSBtaW5YID8gMSAvIChtYXhYIC0gbWluWCkgOiAxXHJcbiAgICBjb25zdCBzY2FsZVkgPSBtYXhZICE9PSBtaW5ZID8gMSAvIChtYXhZIC0gbWluWSkgOiAxXHJcbiAgICBjb25zdCBzY2FsZVogPSBtYXhaICE9PSBtaW5aID8gMSAvIChtYXhaIC0gbWluWikgOiAxXHJcbiAgICBjb25zdCBzY2FsZSA9IE1hdGgubWF4KHNjYWxlWCwgc2NhbGVZLCBzY2FsZVopXHJcblxyXG4gICAgLy8gTm9ybWFsaXplOiB0cmFuc2xhdGUgYnkgd3Jpc3QsIHNjYWxlIGJ5IGJib3hcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMjE7IGkrKykge1xyXG4gICAgICBjb25zdCBpZHggPSBoYW5kT2Zmc2V0ICsgaSAqIDNcclxuICAgICAgbm9ybWFsaXplZFtpZHhdID0gKHJhd0xhbmRtYXJrc1tpZHhdIC0gd3Jpc3RYKSAqIHNjYWxlICsgMC41XHJcbiAgICAgIG5vcm1hbGl6ZWRbaWR4ICsgMV0gPSAocmF3TGFuZG1hcmtzW2lkeCArIDFdIC0gd3Jpc3RZKSAqIHNjYWxlICsgMC41XHJcbiAgICAgIG5vcm1hbGl6ZWRbaWR4ICsgMl0gPSAocmF3TGFuZG1hcmtzW2lkeCArIDJdIC0gd3Jpc3RaKSAqIHNjYWxlICsgMC41XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4gbm9ybWFsaXplZFxyXG59XHJcblxyXG4vKipcclxuICogQ29tcHV0ZSBjb3NpbmUgZGlzdGFuY2UgYmV0d2VlbiB0d28gbGFuZG1hcmsgdmVjdG9yc1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGNvc2luZURpc3RhbmNlKGE6IG51bWJlcltdLCBiOiBudW1iZXJbXSk6IG51bWJlciB7XHJcbiAgaWYgKGEubGVuZ3RoICE9PSBiLmxlbmd0aCkge1xyXG4gICAgcmV0dXJuIDEuMCAgLy8gTWF4aW11bSBkaXN0YW5jZVxyXG4gIH1cclxuXHJcbiAgbGV0IGRvdFByb2R1Y3QgPSAwXHJcbiAgbGV0IG5vcm1BID0gMFxyXG4gIGxldCBub3JtQiA9IDBcclxuXHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICBkb3RQcm9kdWN0ICs9IGFbaV0gKiBiW2ldXHJcbiAgICBub3JtQSArPSBhW2ldICogYVtpXVxyXG4gICAgbm9ybUIgKz0gYltpXSAqIGJbaV1cclxuICB9XHJcblxyXG4gIGNvbnN0IGRlbm9taW5hdG9yID0gTWF0aC5zcXJ0KG5vcm1BKSAqIE1hdGguc3FydChub3JtQilcclxuICBpZiAoZGVub21pbmF0b3IgPT09IDApIHJldHVybiAxLjBcclxuXHJcbiAgY29uc3QgY29zaW5lID0gZG90UHJvZHVjdCAvIGRlbm9taW5hdG9yXHJcbiAgcmV0dXJuIDEgLSBjb3NpbmUgIC8vIENvbnZlcnQgdG8gZGlzdGFuY2VcclxufVxyXG5cclxuLyoqXHJcbiAqIENvbXB1dGUgRXVjbGlkZWFuIGRpc3RhbmNlIGJldHdlZW4gdHdvIGxhbmRtYXJrIHZlY3RvcnNcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBldWNsaWRlYW5EaXN0YW5jZShhOiBudW1iZXJbXSwgYjogbnVtYmVyW10pOiBudW1iZXIge1xyXG4gIGlmIChhLmxlbmd0aCAhPT0gYi5sZW5ndGgpIHtcclxuICAgIHJldHVybiBJbmZpbml0eVxyXG4gIH1cclxuXHJcbiAgbGV0IHN1bSA9IDBcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IGEubGVuZ3RoOyBpKyspIHtcclxuICAgIGNvbnN0IGRpZmYgPSBhW2ldIC0gYltpXVxyXG4gICAgc3VtICs9IGRpZmYgKiBkaWZmXHJcbiAgfVxyXG5cclxuICByZXR1cm4gTWF0aC5zcXJ0KHN1bSlcclxufVxyXG5cclxuLyoqXHJcbiAqIE1hdGNoIGFscGhhYmV0IGFnYWluc3QgdGVtcGxhdGVzIHVzaW5nIHN0YXRpYyBkaXN0YW5jZSBtYXRjaGluZ1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIG1hdGNoQWxwaGFiZXQoXHJcbiAgbm9ybWFsaXplZExhbmRtYXJrczogbnVtYmVyW10sXHJcbiAgYWxwaGFiZXRUZW1wbGF0ZXM6IFJlY29yZDxzdHJpbmcsIEFscGhhYmV0VGVtcGxhdGU+XHJcbik6IE1hdGNoUmVzdWx0IHwgbnVsbCB7XHJcbiAgbGV0IGJlc3RNYXRjaDogTWF0Y2hSZXN1bHQgfCBudWxsID0gbnVsbFxyXG4gIGxldCBiZXN0RGlzdGFuY2UgPSBJbmZpbml0eVxyXG5cclxuICBmb3IgKGNvbnN0IFtsZXR0ZXIsIHRlbXBsYXRlXSBvZiBPYmplY3QuZW50cmllcyhhbHBoYWJldFRlbXBsYXRlcykpIHtcclxuICAgIGNvbnN0IGRpc3RhbmNlID0gY29zaW5lRGlzdGFuY2Uobm9ybWFsaXplZExhbmRtYXJrcywgdGVtcGxhdGUubGFuZG1hcmspXHJcbiAgICBcclxuICAgIGlmIChkaXN0YW5jZSA8IGJlc3REaXN0YW5jZSkge1xyXG4gICAgICBiZXN0RGlzdGFuY2UgPSBkaXN0YW5jZVxyXG4gICAgICBiZXN0TWF0Y2ggPSB7XHJcbiAgICAgICAgbGFiZWw6IGxldHRlcixcclxuICAgICAgICBjb25maWRlbmNlOiBNYXRoLm1heCgwLCAxIC0gZGlzdGFuY2UgKiBDT05GSURFTkNFX1NDQUxFKSxcclxuICAgICAgICBkaXN0YW5jZSxcclxuICAgICAgICBzb3VyY2U6ICd0ZW1wbGF0ZSdcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gT25seSByZXR1cm4gbWF0Y2ggaWYgZGlzdGFuY2UgaXMgYmVsb3cgdGhyZXNob2xkXHJcbiAgaWYgKGJlc3RNYXRjaCAmJiBiZXN0RGlzdGFuY2UgPCBBTFBIQUJFVF9USFJFU0hPTEQpIHtcclxuICAgIHJldHVybiBiZXN0TWF0Y2hcclxuICB9XHJcblxyXG4gIHJldHVybiBudWxsXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBEeW5hbWljIFRpbWUgV2FycGluZyAoRFRXKSBhbGdvcml0aG0gZm9yIHNlcXVlbmNlIG1hdGNoaW5nXHJcbiAqIFJldHVybnMgbm9ybWFsaXplZCBkaXN0YW5jZSBiZXR3ZWVuIHR3byBzZXF1ZW5jZXNcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBkdHdEaXN0YW5jZShzZXF1ZW5jZTE6IG51bWJlcltdW10sIHNlcXVlbmNlMjogbnVtYmVyW11bXSk6IG51bWJlciB7XHJcbiAgY29uc3QgbiA9IHNlcXVlbmNlMS5sZW5ndGhcclxuICBjb25zdCBtID0gc2VxdWVuY2UyLmxlbmd0aFxyXG5cclxuICBpZiAobiA9PT0gMCB8fCBtID09PSAwKSB7XHJcbiAgICByZXR1cm4gSW5maW5pdHlcclxuICB9XHJcblxyXG4gIC8vIEluaXRpYWxpemUgRFAgdGFibGVcclxuICBjb25zdCBkcDogbnVtYmVyW11bXSA9IEFycmF5KG4gKyAxKS5maWxsKG51bGwpLm1hcCgoKSA9PiBBcnJheShtICsgMSkuZmlsbChJbmZpbml0eSkpXHJcbiAgZHBbMF1bMF0gPSAwXHJcblxyXG4gIC8vIEZpbGwgRFAgdGFibGVcclxuICBmb3IgKGxldCBpID0gMTsgaSA8PSBuOyBpKyspIHtcclxuICAgIGZvciAobGV0IGogPSAxOyBqIDw9IG07IGorKykge1xyXG4gICAgICBjb25zdCBjb3N0ID0gZXVjbGlkZWFuRGlzdGFuY2Uoc2VxdWVuY2UxW2kgLSAxXSwgc2VxdWVuY2UyW2ogLSAxXSlcclxuICAgICAgZHBbaV1bal0gPSBjb3N0ICsgTWF0aC5taW4oXHJcbiAgICAgICAgZHBbaSAtIDFdW2pdLCAgICAgIC8vIEluc2VydGlvblxyXG4gICAgICAgIGRwW2ldW2ogLSAxXSwgICAgICAvLyBEZWxldGlvblxyXG4gICAgICAgIGRwW2kgLSAxXVtqIC0gMV0gICAvLyBNYXRjaFxyXG4gICAgICApXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBOb3JtYWxpemUgYnkgcGF0aCBsZW5ndGhcclxuICBjb25zdCBwYXRoTGVuZ3RoID0gTWF0aC5tYXgobiwgbSlcclxuICByZXR1cm4gZHBbbl1bbV0gLyBwYXRoTGVuZ3RoXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBNYXRjaCBzZW50ZW5jZSB1c2luZyBzbGlkaW5nIHdpbmRvdyBEVFcgbWF0Y2hpbmdcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBtYXRjaFNlbnRlbmNlKFxyXG4gIGxhbmRtYXJrU2VxdWVuY2U6IG51bWJlcltdW10sXHJcbiAgc2VudGVuY2VUZW1wbGF0ZXM6IFJlY29yZDxzdHJpbmcsIFNlbnRlbmNlVGVtcGxhdGU+XHJcbik6IE1hdGNoUmVzdWx0IHwgbnVsbCB7XHJcbiAgaWYgKGxhbmRtYXJrU2VxdWVuY2UubGVuZ3RoIDwgU0VOVEVOQ0VfTUlOX0ZSQU1FUykge1xyXG4gICAgcmV0dXJuIG51bGxcclxuICB9XHJcblxyXG4gIC8vIFVzZSBzbGlkaW5nIHdpbmRvdyBvZiBhcHByb3ByaWF0ZSBzaXplXHJcbiAgY29uc3Qgd2luZG93U2l6ZSA9IE1hdGgubWluKGxhbmRtYXJrU2VxdWVuY2UubGVuZ3RoLCBTRU5URU5DRV9NQVhfRlJBTUVTKVxyXG4gIGNvbnN0IHdpbmRvdyA9IGxhbmRtYXJrU2VxdWVuY2Uuc2xpY2UoLXdpbmRvd1NpemUpXHJcblxyXG4gIGxldCBiZXN0TWF0Y2g6IE1hdGNoUmVzdWx0IHwgbnVsbCA9IG51bGxcclxuICBsZXQgYmVzdERpc3RhbmNlID0gSW5maW5pdHlcclxuXHJcbiAgZm9yIChjb25zdCBbaWQsIHRlbXBsYXRlXSBvZiBPYmplY3QuZW50cmllcyhzZW50ZW5jZVRlbXBsYXRlcykpIHtcclxuICAgIGNvbnN0IGRpc3RhbmNlID0gZHR3RGlzdGFuY2Uod2luZG93LCB0ZW1wbGF0ZS5zZXF1ZW5jZSlcclxuICAgIFxyXG4gICAgaWYgKGRpc3RhbmNlIDwgYmVzdERpc3RhbmNlKSB7XHJcbiAgICAgIGJlc3REaXN0YW5jZSA9IGRpc3RhbmNlXHJcbiAgICAgIGJlc3RNYXRjaCA9IHtcclxuICAgICAgICBsYWJlbDogdGVtcGxhdGUudGV4dCxcclxuICAgICAgICBjb25maWRlbmNlOiBNYXRoLm1heCgwLCAxIC0gZGlzdGFuY2UgKiBDT05GSURFTkNFX1NDQUxFKSxcclxuICAgICAgICBkaXN0YW5jZSxcclxuICAgICAgICBzb3VyY2U6ICd0ZW1wbGF0ZSdcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gT25seSByZXR1cm4gbWF0Y2ggaWYgZGlzdGFuY2UgaXMgYmVsb3cgdGhyZXNob2xkXHJcbiAgaWYgKGJlc3RNYXRjaCAmJiBiZXN0RGlzdGFuY2UgPCBTRU5URU5DRV9USFJFU0hPTEQpIHtcclxuICAgIHJldHVybiBiZXN0TWF0Y2hcclxuICB9XHJcblxyXG4gIHJldHVybiBudWxsXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBEZXRlY3QgaWYgc2VxdWVuY2Ugc2hvd3MgbW92ZW1lbnQgKHVuc3RhYmxlKVxyXG4gKiBVc2VkIHRvIGRpc3Rpbmd1aXNoIGJldHdlZW4gc3RhdGljIGFscGhhYmV0IGFuZCBkeW5hbWljIHNlbnRlbmNlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaGFzTW92ZW1lbnQobGFuZG1hcmtTZXF1ZW5jZTogbnVtYmVyW11bXSwgdGhyZXNob2xkOiBudW1iZXIgPSAwLjA1KTogYm9vbGVhbiB7XHJcbiAgaWYgKGxhbmRtYXJrU2VxdWVuY2UubGVuZ3RoIDwgMikge1xyXG4gICAgcmV0dXJuIGZhbHNlXHJcbiAgfVxyXG5cclxuICAvLyBDb21wdXRlIGF2ZXJhZ2UgZnJhbWUtdG8tZnJhbWUgZGlzdGFuY2VcclxuICBsZXQgdG90YWxEaXN0YW5jZSA9IDBcclxuICBmb3IgKGxldCBpID0gMTsgaSA8IGxhbmRtYXJrU2VxdWVuY2UubGVuZ3RoOyBpKyspIHtcclxuICAgIHRvdGFsRGlzdGFuY2UgKz0gZXVjbGlkZWFuRGlzdGFuY2UobGFuZG1hcmtTZXF1ZW5jZVtpIC0gMV0sIGxhbmRtYXJrU2VxdWVuY2VbaV0pXHJcbiAgfVxyXG5cclxuICBjb25zdCBhdmdEaXN0YW5jZSA9IHRvdGFsRGlzdGFuY2UgLyAobGFuZG1hcmtTZXF1ZW5jZS5sZW5ndGggLSAxKVxyXG4gIHJldHVybiBhdmdEaXN0YW5jZSA+IHRocmVzaG9sZFxyXG59XHJcblxyXG4vKipcclxuICogTG9hZCBhbHBoYWJldCB0ZW1wbGF0ZXMgZnJvbSBKU09OXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbG9hZEFscGhhYmV0VGVtcGxhdGVzKCk6IFByb21pc2U8UmVjb3JkPHN0cmluZywgQWxwaGFiZXRUZW1wbGF0ZT4+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL21vZGVscy90ZW1wbGF0ZXMvYWxwaGFiZXRzLmpzb24nKVxyXG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBsb2FkIGFscGhhYmV0czogJHtyZXNwb25zZS5zdGF0dXNUZXh0fWApXHJcbiAgICB9XHJcbiAgICByZXR1cm4gYXdhaXQgcmVzcG9uc2UuanNvbigpXHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGxvYWRpbmcgYWxwaGFiZXQgdGVtcGxhdGVzOicsIGVycm9yKVxyXG4gICAgcmV0dXJuIHt9XHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICogTG9hZCBzZW50ZW5jZSB0ZW1wbGF0ZXMgZnJvbSBKU09OXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbG9hZFNlbnRlbmNlVGVtcGxhdGVzKCk6IFByb21pc2U8UmVjb3JkPHN0cmluZywgU2VudGVuY2VUZW1wbGF0ZT4+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL21vZGVscy90ZW1wbGF0ZXMvc2VudGVuY2VzLmpzb24nKVxyXG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBsb2FkIHNlbnRlbmNlczogJHtyZXNwb25zZS5zdGF0dXNUZXh0fWApXHJcbiAgICB9XHJcbiAgICByZXR1cm4gYXdhaXQgcmVzcG9uc2UuanNvbigpXHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGxvYWRpbmcgc2VudGVuY2UgdGVtcGxhdGVzOicsIGVycm9yKVxyXG4gICAgcmV0dXJuIHt9XHJcbiAgfVxyXG59XHJcblxyXG4vLyBFeHBvcnQgY29uZmlndXJhdGlvbiBmb3IgZXh0ZXJuYWwgdHVuaW5nXHJcbmV4cG9ydCBjb25zdCBUZW1wbGF0ZU1hdGNoaW5nQ29uZmlnID0ge1xyXG4gIEFMUEhBQkVUX1RIUkVTSE9MRCxcclxuICBTRU5URU5DRV9USFJFU0hPTEQsXHJcbiAgQUxQSEFCRVRfU1RBQklMSVRZX0ZSQU1FUyxcclxuICBTRU5URU5DRV9NSU5fRlJBTUVTLFxyXG4gIFNFTlRFTkNFX01BWF9GUkFNRVMsXHJcbiAgQ09ORklERU5DRV9TQ0FMRVxyXG59XHJcblxyXG4iXSwibmFtZXMiOlsiQUxQSEFCRVRfVEhSRVNIT0xEIiwiU0VOVEVOQ0VfVEhSRVNIT0xEIiwiQUxQSEFCRVRfU1RBQklMSVRZX0ZSQU1FUyIsIlNFTlRFTkNFX01JTl9GUkFNRVMiLCJTRU5URU5DRV9NQVhfRlJBTUVTIiwiQ09ORklERU5DRV9TQ0FMRSIsIm5vcm1hbGl6ZUxhbmRtYXJrcyIsInJhd0xhbmRtYXJrcyIsImxlbmd0aCIsImNvbnNvbGUiLCJ3YXJuIiwibm9ybWFsaXplZCIsImhhbmQiLCJoYW5kT2Zmc2V0Iiwid3Jpc3RYIiwid3Jpc3RZIiwid3Jpc3RaIiwibWluWCIsIm1heFgiLCJtaW5ZIiwibWF4WSIsIm1pbloiLCJtYXhaIiwiaSIsImlkeCIsIngiLCJ5IiwieiIsIk1hdGgiLCJtaW4iLCJtYXgiLCJzY2FsZVgiLCJzY2FsZVkiLCJzY2FsZVoiLCJzY2FsZSIsImNvc2luZURpc3RhbmNlIiwiYSIsImIiLCJkb3RQcm9kdWN0Iiwibm9ybUEiLCJub3JtQiIsImRlbm9taW5hdG9yIiwic3FydCIsImNvc2luZSIsImV1Y2xpZGVhbkRpc3RhbmNlIiwiSW5maW5pdHkiLCJzdW0iLCJkaWZmIiwibWF0Y2hBbHBoYWJldCIsIm5vcm1hbGl6ZWRMYW5kbWFya3MiLCJhbHBoYWJldFRlbXBsYXRlcyIsImJlc3RNYXRjaCIsImJlc3REaXN0YW5jZSIsImxldHRlciIsInRlbXBsYXRlIiwiT2JqZWN0IiwiZW50cmllcyIsImRpc3RhbmNlIiwibGFuZG1hcmsiLCJsYWJlbCIsImNvbmZpZGVuY2UiLCJzb3VyY2UiLCJkdHdEaXN0YW5jZSIsInNlcXVlbmNlMSIsInNlcXVlbmNlMiIsIm4iLCJtIiwiZHAiLCJBcnJheSIsImZpbGwiLCJtYXAiLCJqIiwiY29zdCIsInBhdGhMZW5ndGgiLCJtYXRjaFNlbnRlbmNlIiwibGFuZG1hcmtTZXF1ZW5jZSIsInNlbnRlbmNlVGVtcGxhdGVzIiwid2luZG93U2l6ZSIsIndpbmRvdyIsInNsaWNlIiwiaWQiLCJzZXF1ZW5jZSIsInRleHQiLCJoYXNNb3ZlbWVudCIsInRocmVzaG9sZCIsInRvdGFsRGlzdGFuY2UiLCJhdmdEaXN0YW5jZSIsImxvYWRBbHBoYWJldFRlbXBsYXRlcyIsInJlc3BvbnNlIiwiZmV0Y2giLCJvayIsIkVycm9yIiwic3RhdHVzVGV4dCIsImpzb24iLCJlcnJvciIsImxvYWRTZW50ZW5jZVRlbXBsYXRlcyIsIlRlbXBsYXRlTWF0Y2hpbmdDb25maWciXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./lib/templateMatching.ts\n"));

/***/ })

});